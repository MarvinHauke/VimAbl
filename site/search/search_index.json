{"config":{"lang":["en"],"separator":"[\\s\\-,:!=\\[\\]()\"/]+|(?!\\b)(?=[A-Z][a-z])|\\.(?!\\d)|&[lg]t;","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"VimAbl - Ableton Live LSP","text":"<p>Welcome to VimAbl</p> <p>Vim-like keybindings and LSP-style server functionality for Ableton Live. Control Live with intuitive keyboard shortcuts powered by a Python Remote Script and Hammerspoon automation.</p>"},{"location":"#what-is-vimabl","title":"What is VimAbl?","text":"<p>VimAbl brings the power of Vim-style keyboard navigation to Ableton Live, combined with a real-time LSP-like server architecture for live project visualization and control.</p>"},{"location":"#key-features","title":"Key Features","text":"<ul> <li>\ud83c\udfb9 Vim-inspired navigation - <code>gg</code>, <code>G</code>, <code>dd</code>, <code>za</code> and more familiar commands</li> <li>\ud83c\udfaf Context-aware shortcuts - Different behavior in Arrangement vs Session view</li> <li>\ud83d\udd12 Thread-safe Remote Script - Exposes Live's state via local socket server (port 9001)</li> <li>\u26a1 UDP/OSC Real-Time Observers - Streams Live events with &lt; 10ms latency (port 9002)</li> <li>\ud83c\udf32 Web TreeViewer - Real-time project visualization via WebSocket (port 8765)</li> <li>\ud83e\udde9 Modular architecture - Easy to extend with new commands</li> <li>\ud83d\udd04 Auto-recovery - Monitors and restarts eventtaps automatically</li> </ul>"},{"location":"#quick-navigation","title":"Quick Navigation","text":""},{"location":"#getting-started","title":"\ud83d\ude80 Getting Started","text":"<ul> <li>Installation Guide - Complete setup instructions</li> <li>Quick Start - Get up and running in 5 minutes</li> <li>User Guide - Learn how to use VimAbl</li> </ul>"},{"location":"#documentation","title":"\ud83d\udcd6 Documentation","text":"<ul> <li>User Guide - Navigation, editing, and keybindings</li> <li>Architecture - System design and components</li> <li>API Reference - Command and protocol documentation</li> <li>Development - Extending and contributing</li> </ul>"},{"location":"#resources","title":"\ud83d\udd27 Resources","text":"<ul> <li>Troubleshooting - Common issues and solutions</li> <li>FAQ - Frequently asked questions</li> <li>Changelog - Version history</li> </ul>"},{"location":"#system-overview","title":"System Overview","text":"<pre><code>graph TB\n    User[User Input&lt;br/&gt;Keyboard] --&gt; HS[Hammerspoon&lt;br/&gt;Lua Automation]\n    HS &lt;--&gt;|TCP 9001| RS[Remote Script&lt;br/&gt;LiveState.py]\n    RS &lt;--&gt;|Live API| Live[Ableton Live]\n    RS --&gt;|UDP 9002&lt;br/&gt;OSC Events| UDP[UDP Listener]\n    UDP --&gt;|WebSocket 8765| WS[WebSocket Server]\n    WS --&gt; UI[Svelte Web UI&lt;br/&gt;TreeViewer]\n    Live --&gt;|.als File| WS</code></pre>"},{"location":"#architecture-highlights","title":"Architecture Highlights","text":"<ul> <li>Hammerspoon Integration - Lua-based automation for macOS keyboard shortcuts</li> <li>Python Remote Script - Runs inside Ableton Live, exposes thread-safe API</li> <li>UDP/OSC Observer System - Real-time event streaming with minimal latency</li> <li>WebSocket AST Server - Parses and visualizes project structure</li> <li>Svelte Frontend - Modern web UI for live project visualization</li> </ul>"},{"location":"#performance-metrics","title":"Performance Metrics","text":"Metric Target Actual Status End-to-end latency &lt; 100ms ~10ms \u2705 10x better UDP send time &lt; 1ms ~0.5ms \u2705 2x better CPU usage (Remote Script) &lt; 5% ~2% \u2705 Packet loss &lt; 0.1% 0% \u2705 Perfect"},{"location":"#next-steps","title":"Next Steps","text":"<ol> <li>Install VimAbl - Set up on your system</li> <li>Quick Start Guide - Learn the basics in 5 minutes</li> <li>Explore the User Guide - Master all features</li> </ol>"},{"location":"#community-support","title":"Community &amp; Support","text":"<ul> <li>GitHub Repository: VimAbl on GitHub</li> <li>Issues &amp; Bug Reports: GitHub Issues</li> <li>Contributions: See Development Guide</li> </ul> <p>License: MIT | Project Status: Active Development</p>"},{"location":"changelog/","title":"Changelog","text":"<p>All notable changes to VimAbl will be documented in this file.</p> <p>The format is based on Keep a Changelog, and this project adheres to Semantic Versioning.</p>"},{"location":"changelog/#unreleased","title":"Unreleased","text":""},{"location":"changelog/#added","title":"Added","text":"<ul> <li>Complete MkDocs documentation site</li> <li>User guide with navigation and editing commands</li> <li>Architecture documentation with Mermaid diagrams</li> <li>API reference for OSC protocol</li> <li>Troubleshooting guide and FAQ</li> </ul>"},{"location":"changelog/#changed","title":"Changed","text":"<ul> <li>Reorganized documentation structure</li> <li>Updated mkdocs.yml with comprehensive navigation</li> </ul>"},{"location":"changelog/#030-2025-11-16","title":"0.3.0 - 2025-11-16","text":""},{"location":"changelog/#added_1","title":"Added","text":"<ul> <li>Session View cursor tracking</li> <li>Real-time UI highlighting for selected scene</li> <li>Track color support in TreeViewer</li> <li>Track naming in TreeViewer</li> <li>Flashing indicators for last changes in web UI</li> </ul>"},{"location":"changelog/#changed_1","title":"Changed","text":"<ul> <li>Enhanced cursor tracking architecture</li> <li>Improved TreeViewer visual feedback</li> </ul>"},{"location":"changelog/#020-2025-11-12","title":"0.2.0 - 2025-11-12","text":""},{"location":"changelog/#added_2","title":"Added","text":"<ul> <li>UDP/OSC Real-Time Observer System (Phase 5f)</li> <li>TrackObserver for track property monitoring</li> <li>DeviceObserver for device parameter monitoring</li> <li>TransportObserver for playback state and tempo</li> <li>UDP Listener Bridge for event processing</li> <li>OSC protocol specification</li> <li>Debouncing for high-frequency events (volume, device parameters)</li> <li>Manual observer controls (START/STOP/REFRESH/STATUS)</li> <li>Comprehensive testing suite for UDP/OSC integration</li> </ul>"},{"location":"changelog/#performance","title":"Performance","text":"<ul> <li>End-to-end latency: ~10ms (target was &lt; 100ms)</li> <li>UDP send time: ~0.5ms (target was &lt; 1ms)</li> <li>CPU usage: ~2% Remote Script, ~1% UDP Listener</li> <li>Zero packet loss on localhost</li> <li>Support for 36+ tracks tested</li> </ul>"},{"location":"changelog/#documentation","title":"Documentation","text":"<ul> <li>OSC Protocol documentation</li> <li>Observer reference guide</li> <li>Manual testing procedures</li> <li>Integration test suite</li> </ul>"},{"location":"changelog/#010-2025-11-10","title":"0.1.0 - 2025-11-10","text":""},{"location":"changelog/#added_3","title":"Added","text":"<ul> <li>Initial VimAbl implementation</li> <li>Python Remote Script (LiveState.py)</li> <li>Thread-safe command API via TCP socket (port 9001)</li> <li>View state monitoring (Session/Arrangement)</li> <li>Fast-path for read-only operations</li> <li>Hammerspoon Integration</li> <li>Vim-style navigation (<code>gg</code>, <code>G</code>)</li> <li>Editing commands (<code>dd</code>, <code>za</code>)</li> <li>Browser toggle (<code>Ctrl + -</code>)</li> <li>Application watcher for auto-enable/disable</li> <li>Auto-recovery for eventtaps (every 5 seconds)</li> <li>WebSocket AST Server (port 8765)</li> <li>.als file parsing to AST</li> <li>Real-time project visualization</li> <li>WebSocket streaming to UI</li> <li>Svelte Web UI (TreeViewer)</li> <li>Interactive tree view of project structure</li> <li>Real-time updates via WebSocket</li> <li>Track, device, and sample visualization</li> </ul>"},{"location":"changelog/#commands","title":"Commands","text":"<ul> <li><code>GET_VIEW</code> - Get current view (session/arrangement)</li> <li><code>GET_STATE</code> - Get full Live state</li> <li><code>SELECT_FIRST_SCENE</code> - Jump to first scene</li> <li><code>SELECT_LAST_SCENE</code> - Jump to last scene</li> <li><code>SELECT_FIRST_TRACK</code> - Jump to first track</li> <li><code>SELECT_LAST_TRACK</code> - Jump to last track</li> </ul>"},{"location":"changelog/#documentation_1","title":"Documentation","text":"<ul> <li>Initial README with installation instructions</li> <li>Architecture overview</li> <li>Quick start guide</li> <li>Development setup instructions</li> </ul>"},{"location":"changelog/#version-history","title":"Version History","text":""},{"location":"changelog/#030-session-view-cursor-tracking","title":"0.3.0 - Session View Cursor Tracking","text":"<p>Major UI improvements for TreeViewer with real-time cursor tracking and visual feedback.</p>"},{"location":"changelog/#020-udposc-real-time-observers","title":"0.2.0 - UDP/OSC Real-Time Observers","text":"<p>Major feature release adding real-time event streaming with exceptional performance.</p>"},{"location":"changelog/#010-initial-release","title":"0.1.0 - Initial Release","text":"<p>First public release with core Vim-style navigation and WebSocket visualization.</p>"},{"location":"changelog/#release-notes-format","title":"Release Notes Format","text":"<p>Each release includes: - Added - New features - Changed - Changes to existing functionality - Deprecated - Soon-to-be removed features - Removed - Removed features - Fixed - Bug fixes - Security - Security fixes - Performance - Performance improvements</p>"},{"location":"faq/","title":"Frequently Asked Questions","text":""},{"location":"faq/#general","title":"General","text":""},{"location":"faq/#what-is-vimabl","title":"What is VimAbl?","text":"<p>VimAbl brings Vim-style keyboard navigation to Ableton Live, combined with a real-time LSP-like server for project visualization and control.</p>"},{"location":"faq/#why-vimabl","title":"Why \"VimAbl\"?","text":"<p>Vim + Ableton = VimAbl! It combines the efficiency of Vim keybindings with Ableton Live's creative workflow.</p>"},{"location":"faq/#is-vimabl-free","title":"Is VimAbl free?","text":"<p>Yes! VimAbl is open source under the MIT license.</p>"},{"location":"faq/#what-versions-of-ableton-live-are-supported","title":"What versions of Ableton Live are supported?","text":"<p>VimAbl works with any version of Ableton Live that supports Remote Scripts (Live 8+). Tested primarily on Live 11 and 12.</p>"},{"location":"faq/#installation","title":"Installation","text":""},{"location":"faq/#do-i-need-to-install-anything-inside-ableton","title":"Do I need to install anything inside Ableton?","text":"<p>Yes, you need to install the Remote Script in Ableton's Remote Scripts folder. See Installation Guide.</p>"},{"location":"faq/#can-i-use-vimabl-without-hammerspoon","title":"Can I use VimAbl without Hammerspoon?","text":"<p>No, Hammerspoon is required for the keyboard shortcuts. However, you can use just the Remote Script API without Hammerspoon.</p>"},{"location":"faq/#can-i-use-vimabl-on-windows","title":"Can I use VimAbl on Windows?","text":"<p>The Hammerspoon integration is macOS-only. However, the Remote Script and WebSocket server work on any platform. Windows users could potentially use AutoHotkey instead of Hammerspoon.</p>"},{"location":"faq/#usage","title":"Usage","text":""},{"location":"faq/#why-arent-my-commands-working","title":"Why aren't my commands working?","text":"<p>Common reasons: 1. Ableton Live is not the frontmost application 2. Keys not pressed within 500ms timeout 3. Remote Script not loaded in Ableton 4. Hammerspoon not running</p> <p>See Troubleshooting for solutions.</p>"},{"location":"faq/#can-i-customize-the-keybindings","title":"Can I customize the keybindings?","text":"<p>Yes! See the Development Guide for how to add or modify keybindings.</p>"},{"location":"faq/#how-do-i-know-which-view-im-in","title":"How do I know which view I'm in?","text":"<p>Run: <code>echo \"GET_VIEW\" | nc 127.0.0.1 9001</code></p> <p>Or check Ableton's UI - Tab switches between Session and Arrangement views.</p>"},{"location":"faq/#can-i-use-standard-vim-keybindings-like-hjkl","title":"Can I use standard Vim keybindings like hjkl?","text":"<p>Not yet. Currently VimAbl implements <code>gg</code>, <code>G</code>, <code>dd</code>, and <code>za</code>. More Vim-style navigation is planned.</p>"},{"location":"faq/#technical","title":"Technical","text":""},{"location":"faq/#whats-the-latency-for-commands","title":"What's the latency for commands?","text":"<p>Typically 20-50ms from keypress to execution in Ableton Live.</p>"},{"location":"faq/#how-does-the-real-time-observer-system-work","title":"How does the real-time observer system work?","text":"<p>The Remote Script monitors Ableton's state via Live API observers and streams events via UDP/OSC to a listener. See Architecture.</p>"},{"location":"faq/#why-udp-instead-of-tcp-for-events","title":"Why UDP instead of TCP for events?","text":"<p>UDP is fire-and-forget with &lt; 1ms latency, perfect for real-time event streaming. TCP would add acknowledgment overhead.</p>"},{"location":"faq/#whats-the-cpu-usage","title":"What's the CPU usage?","text":"<p>Very low: - Remote Script: ~2% - Hammerspoon: &lt; 1% - UDP Listener: ~1%</p>"},{"location":"faq/#can-i-run-vimabl-in-productionlive-performance","title":"Can I run VimAbl in production/live performance?","text":"<p>Yes! VimAbl is designed for stability and low latency. The auto-recovery features ensure reliability.</p>"},{"location":"faq/#features","title":"Features","text":""},{"location":"faq/#does-vimabl-work-with-midi-controllers","title":"Does VimAbl work with MIDI controllers?","text":"<p>VimAbl doesn't directly integrate with MIDI controllers, but it works alongside them. The Remote Script uses a separate control surface slot.</p>"},{"location":"faq/#can-i-see-my-project-structure-in-real-time","title":"Can I see my project structure in real-time?","text":"<p>Yes! The WebSocket TreeViewer provides live visualization. See Quick Start.</p>"},{"location":"faq/#what-events-does-the-udp-observer-system-track","title":"What events does the UDP observer system track?","text":"<p>Track renames, mute/arm state, volume, device parameters, tempo, and more. See UDP/OSC Observers.</p>"},{"location":"faq/#can-i-add-custom-commands","title":"Can I add custom commands?","text":"<p>Yes! See the Development Guide for adding new commands.</p>"},{"location":"faq/#development","title":"Development","text":""},{"location":"faq/#how-do-i-contribute","title":"How do I contribute?","text":"<p>Contributions welcome! See the Development Guide.</p>"},{"location":"faq/#can-i-build-plugins-for-vimabl","title":"Can I build plugins for VimAbl?","text":"<p>Plugin system is planned but not yet implemented. Currently you can extend by modifying the source.</p>"},{"location":"faq/#wheres-the-source-code","title":"Where's the source code?","text":"<p>GitHub Repository</p>"},{"location":"faq/#how-do-i-report-bugs","title":"How do I report bugs?","text":"<p>Open a GitHub Issue with: - Error messages - Steps to reproduce - System information</p>"},{"location":"faq/#troubleshooting","title":"Troubleshooting","text":""},{"location":"faq/#i-installed-everything-but-nothing-works","title":"I installed everything but nothing works","text":"<ol> <li>Check Ableton's log for Remote Script errors</li> <li>Verify Hammerspoon is running and has accessibility permissions</li> <li>Test server connection: <code>echo \"GET_VIEW\" | nc 127.0.0.1 9001</code></li> <li>See Troubleshooting</li> </ol>"},{"location":"faq/#commands-worked-before-but-stopped","title":"Commands worked before but stopped","text":"<ol> <li>Reload Hammerspoon config</li> <li>Restart Ableton Live</li> <li>Check eventtap is running (auto-restarts every 5s)</li> </ol>"},{"location":"faq/#the-websocket-server-wont-start","title":"The WebSocket server won't start","text":"<ol> <li>Ensure your project is saved (<code>.als</code> file exists)</li> <li>Check port 8765 is available: <code>lsof -i :8765</code></li> <li>Try manual mode: <code>uv run python -m src.main your_project.als --mode=websocket</code></li> </ol>"},{"location":"faq/#future-plans","title":"Future Plans","text":""},{"location":"faq/#what-features-are-planned","title":"What features are planned?","text":"<ul> <li>More Vim motions (hjkl navigation, visual mode)</li> <li>Command palette overlay</li> <li>AI-powered auto-completion</li> <li>Expanded API for third-party extensions</li> </ul> <p>See the Changelog for upcoming features.</p>"},{"location":"faq/#will-there-be-a-windows-version","title":"Will there be a Windows version?","text":"<p>The Remote Script and WebSocket server work on Windows. Porting the Hammerspoon integration to AutoHotkey is possible but not yet planned.</p>"},{"location":"faq/#will-there-be-a-plugin-system","title":"Will there be a plugin system?","text":"<p>Yes! A Lua plugin system for custom commands is planned.</p>"},{"location":"faq/#still-have-questions","title":"Still Have Questions?","text":"<ul> <li>Check Troubleshooting</li> <li>Search GitHub Issues</li> <li>Open a new issue with your question</li> </ul>"},{"location":"installation/","title":"Installation Guide","text":"<p>This guide will walk you through setting up VimAbl on your system.</p>"},{"location":"installation/#prerequisites","title":"Prerequisites","text":"<p>Before installing VimAbl, ensure you have the following:</p> <ul> <li>Ableton Live - Any version with Remote Script support</li> <li>Hammerspoon - macOS automation tool (Download)</li> <li>Python 3.11+ - For external tools (AST parser, WebSocket server)</li> <li>uv - Python package manager (Install)</li> </ul>"},{"location":"installation/#installation-steps","title":"Installation Steps","text":""},{"location":"installation/#1-install-uv","title":"1. Install uv","text":"<p>Choose your preferred installation method:</p> Shell ScriptHomebrew <pre><code>curl -LsSf https://astral.sh/uv/install.sh | sh\n</code></pre> <pre><code>brew install uv\n</code></pre>"},{"location":"installation/#2-install-project-dependencies","title":"2. Install Project Dependencies","text":"<pre><code># Navigate to the VimAbl directory\ncd /path/to/VimAbl\n\n# Sync all dependencies (creates .venv automatically)\nuv sync\n\n# Or with dev dependencies\nuv sync --all-extras\n</code></pre>"},{"location":"installation/#3-activate-virtual-environment","title":"3. Activate Virtual Environment","text":"<p>Choose the method that works best for your workflow:</p> direnv (Recommended)uv runManual Activation <p>If you have direnv installed:</p> <pre><code># Allow direnv to load .envrc\ndirenv allow\n\n# Now it auto-activates when you cd into the directory!\ncd /path/to/VimAbl  # Environment auto-loads\n</code></pre> <pre><code># Run commands directly with uv\nuv run python -m src.main --help\n</code></pre> <pre><code># Activate the virtual environment manually\nsource .venv/bin/activate\npython -m src.main --help\n</code></pre>"},{"location":"installation/#4-install-remote-script","title":"4. Install Remote Script","text":"<p>Create a symlink to the remote script in Ableton's Remote Scripts folder:</p> macOSWindows <pre><code># Create symlink (recommended for development)\nln -s \"$(pwd)/src/remote_script\" ~/Music/Ableton/User\\ Library/Remote\\ Scripts/LiveState\n</code></pre> <pre><code># Create symlink (requires admin privileges)\nmklink /D \"%USERPROFILE%\\Documents\\Ableton\\User Library\\Remote Scripts\\LiveState\" \"%CD%\\src\\remote_script\"\n</code></pre> <p>Production Alternative</p> <p>For production use, copy instead of symlinking:</p> <pre><code># macOS\ncp -r src/remote_script ~/Music/Ableton/User\\ Library/Remote\\ Scripts/LiveState\n\n# Windows\nxcopy /E /I src\\remote_script \"%USERPROFILE%\\Documents\\Ableton\\User Library\\Remote Scripts\\LiveState\"\n</code></pre>"},{"location":"installation/#5-enable-remote-script-in-ableton","title":"5. Enable Remote Script in Ableton","text":"<ol> <li>Open Ableton Live Preferences</li> <li>Go to Link/Tempo/MIDI tab</li> <li>Under Control Surface, select LiveState in an empty slot</li> <li>Set Input/Output to None</li> <li>Restart Ableton Live</li> </ol>"},{"location":"installation/#6-install-hammerspoon-scripts","title":"6. Install Hammerspoon Scripts","text":"<p>Create symlinks for development (recommended):</p> <pre><code># Create directory structure\nmkdir -p ~/.hammerspoon/keys\n\n# Symlink all Hammerspoon files\nln -s \"$(pwd)/src/hammerspoon/ableton.lua\" ~/.hammerspoon/\nln -s \"$(pwd)/src/hammerspoon/app_watcher.lua\" ~/.hammerspoon/\nln -s \"$(pwd)/src/hammerspoon/config.lua\" ~/.hammerspoon/\nln -s \"$(pwd)/src/hammerspoon/live_state.lua\" ~/.hammerspoon/\nln -s \"$(pwd)/src/hammerspoon/status_check.lua\" ~/.hammerspoon/\nln -s \"$(pwd)/src/hammerspoon/utils.lua\" ~/.hammerspoon/\nln -s \"$(pwd)/src/hammerspoon/keys/navigation.lua\" ~/.hammerspoon/keys/\nln -s \"$(pwd)/src/hammerspoon/keys/editing.lua\" ~/.hammerspoon/keys/\nln -s \"$(pwd)/src/hammerspoon/keys/views.lua\" ~/.hammerspoon/keys/\n</code></pre> <p>Production Alternative</p> <p>For production, copy files instead:</p> <pre><code>cp -r src/hammerspoon/*.lua ~/.hammerspoon/\nmkdir -p ~/.hammerspoon/keys\ncp src/hammerspoon/keys/*.lua ~/.hammerspoon/keys/\n</code></pre>"},{"location":"installation/#7-configure-hammerspoon","title":"7. Configure Hammerspoon","text":"<p>Add to your <code>~/.hammerspoon/init.lua</code>:</p> <pre><code>-- Load Ableton Live integration\nrequire(\"ableton\")\n</code></pre> <p>Then reload Hammerspoon config (Menu bar icon \u2192 Reload Config)</p>"},{"location":"installation/#8-verify-installation","title":"8. Verify Installation","text":""},{"location":"installation/#check-remote-script-is-loaded","title":"Check Remote Script is Loaded","text":"<pre><code># View Ableton's log\ntail -f ~/Library/Preferences/Ableton/Live\\ */Log.txt\n\n# Look for: \"Live State Remote Script initialized\"\n</code></pre>"},{"location":"installation/#test-server-connection","title":"Test Server Connection","text":"<pre><code>echo \"GET_VIEW\" | nc 127.0.0.1 9001\n# Should return: {\"view\": \"session\"} or {\"view\": \"arrangement\"}\n</code></pre>"},{"location":"installation/#test-in-hammerspoon-console","title":"Test in Hammerspoon Console","text":"<p>Open Hammerspoon console and run:</p> <pre><code>liveState = require(\"live_state\")\nliveState.selectFirstTrack()\n</code></pre> <p>You should see the first track in Ableton Live selected.</p>"},{"location":"installation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"installation/#remote-script-not-loading","title":"Remote Script Not Loading","text":"<ul> <li>\u2705 Check folder is named exactly <code>LiveState</code></li> <li>\u2705 View <code>~/Library/Preferences/Ableton/Live */Log.txt</code> for errors</li> <li>\u2705 Ensure Python script has no syntax errors:   <pre><code>python3 -m py_compile src/remote_script/LiveState.py\n</code></pre></li> </ul>"},{"location":"installation/#server-connection-fails","title":"Server Connection Fails","text":"<pre><code># Check if server is running\nlsof -i :9001\n\n# Test manually\necho \"GET_STATE\" | nc 127.0.0.1 9001\n</code></pre>"},{"location":"installation/#hammerspoon-not-detecting-live","title":"Hammerspoon Not Detecting Live","text":"<ul> <li>\u2705 Check console for: <code>\"Ableton VimMode: Application watcher started\"</code></li> <li>\u2705 Verify Hammerspoon has accessibility permissions in System Preferences</li> <li>\u2705 Try reloading Hammerspoon config</li> </ul>"},{"location":"installation/#next-steps","title":"Next Steps","text":"<ul> <li>\u2705 Quick Start Guide - Learn the basics</li> <li>\u2705 User Guide - Explore all features</li> <li>\u2705 Keybindings Reference - Full command list</li> </ul> <p>Need more help? Check the Troubleshooting Guide or FAQ.</p>"},{"location":"planned-features/","title":"Planned Features &amp; Roadmap","text":"<p>This page outlines planned features, upcoming improvements, and the development roadmap for VimAbl.</p>"},{"location":"planned-features/#current-status","title":"Current Status","text":"<p>Phase Complete: Phase 5f - UDP/OSC Real-Time Observers \u2705 Overall Progress: 87.5% (\u215e phases complete)</p>"},{"location":"planned-features/#high-priority-features","title":"High Priority Features","text":""},{"location":"planned-features/#phase-3-real-time-updates-diff-visualization","title":"Phase 3: Real-Time Updates &amp; Diff Visualization","text":"<p>Status: In Progress Dependencies: WebSocket AST Server (Complete)</p>"},{"location":"planned-features/#phase-3a-diff-application-logic","title":"Phase 3a: Diff Application Logic","text":"<ul> <li> Enhance AST store with diff patching</li> <li> Implement <code>applyDiff(diff)</code> function</li> <li> Handle node additions, deletions, modifications</li> <li> Preserve expand/collapse state during updates</li> <li> Create diff utilities module</li> <li> Parse diff format from Python server</li> <li> Map diff paths to tree nodes</li> <li> Add TypeScript types for diffs</li> </ul>"},{"location":"planned-features/#phase-3b-visual-diff-indicators","title":"Phase 3b: Visual Diff Indicators","text":"<ul> <li> Add change highlighting to TreeNode component</li> <li> Green background for new nodes</li> <li> Yellow background for modified nodes</li> <li> Red background with strikethrough for removed nodes</li> <li> Fade out highlights after 5 seconds</li> <li> Create diff legend component</li> <li> Add smooth transition animations</li> </ul>"},{"location":"planned-features/#phase-3c-performance-optimization","title":"Phase 3c: Performance Optimization","text":"<ul> <li> Implement virtual scrolling for large trees</li> <li> Optimize re-rendering with proper key bindings</li> <li> Add debouncing for rapid updates</li> <li> Test with 50+ track projects</li> </ul> <p>Estimated Time: 2-3 weeks</p>"},{"location":"planned-features/#phase-4-enhanced-ui-features","title":"Phase 4: Enhanced UI Features","text":"<p>Status: Planned Dependencies: Phase 3</p>"},{"location":"planned-features/#phase-4a-search-filter","title":"Phase 4a: Search &amp; Filter","text":"<ul> <li> Create search bar component</li> <li> Text input with debouncing</li> <li> Search by node name and type</li> <li> Highlight matching nodes</li> <li> Show match count</li> <li> Implement search store logic</li> <li> Full-text search across all nodes</li> <li> Filter by attributes (muted, armed, etc.)</li> <li> Support regex patterns</li> <li> Add search navigation</li> <li> \"Next match\" (keyboard: n)</li> <li> \"Previous match\" (keyboard: N)</li> <li> Auto-expand tree to show matches</li> </ul>"},{"location":"planned-features/#phase-4b-node-details-panel","title":"Phase 4b: Node Details Panel","text":"<ul> <li> Create node details component</li> <li> Show selected node's attributes</li> <li> Display node hash (SHA)</li> <li> Show file references</li> <li> Display parent/child relationships</li> <li> \"Copy JSON\" button</li> <li> Add node selection to tree</li> <li> Create split-pane layout (60/40)</li> </ul>"},{"location":"planned-features/#phase-4c-project-statistics-dashboard","title":"Phase 4c: Project Statistics Dashboard","text":"<ul> <li> Create project stats widget</li> <li> Total track, device, clip counts</li> <li> File reference count</li> <li> Last modified timestamp</li> <li> Add real-time statistics updates</li> <li> Create file references list component</li> </ul> <p>Estimated Time: 3-4 weeks</p>"},{"location":"planned-features/#phase-5e-udpast-server-integration","title":"Phase 5e: UDP/AST Server Integration","text":"<p>Status: Planned Priority: High Dependencies: Phase 5f (Complete)</p> <p>Goal: Connect UDP listener to WebSocket AST server for real-time UI updates</p> <ul> <li> Update AST server with event processing</li> <li> Start UDP listener as async task</li> <li> Add <code>process_live_event(event)</code> method</li> <li> Map OSC events to AST operations</li> <li> Batch events (50ms window)</li> <li> Implement incremental AST updates</li> <li> In-place node updates for renames</li> <li> Tree structure modifications for add/delete</li> <li> Minimal diff generation</li> <li> Add XML diff fallback mechanism</li> <li> Trigger on UDP gap detection</li> <li> Handle hash mismatches</li> <li> Log fallback occurrences</li> </ul> <p>Expected Result: Real-time UI updates within 100ms when editing in Ableton Live</p> <p>Estimated Time: 1-2 weeks</p>"},{"location":"planned-features/#medium-priority-features","title":"Medium Priority Features","text":""},{"location":"planned-features/#more-vim-motions","title":"More Vim Motions","text":"<p>Expand Vim-style navigation beyond current implementation:</p> <ul> <li> <code>hjkl</code> navigation (left/down/up/right)</li> <li> Visual mode (<code>v</code>) for selecting multiple items</li> <li> Yank (<code>y</code>) - Copy selected item</li> <li> Put (<code>p</code>) - Paste copied item</li> <li> Change (<code>c</code>) - Replace selected item</li> <li> Direct undo (<code>u</code>) instead of <code>za</code></li> <li> Redo (<code>Ctrl+r</code>)</li> </ul> <p>Estimated Time: 2-3 weeks</p>"},{"location":"planned-features/#advanced-tree-viewer-features","title":"Advanced Tree Viewer Features","text":""},{"location":"planned-features/#phase-6a-diff-history-viewer","title":"Phase 6a: Diff History Viewer","text":"<ul> <li> Store last N diffs (e.g., 50)</li> <li> Display change history panel</li> <li> Navigate through history</li> <li> Highlight changed nodes from history</li> <li> Optional revert functionality</li> </ul>"},{"location":"planned-features/#phase-6b-export-snapshots","title":"Phase 6b: Export &amp; Snapshots","text":"<ul> <li> \"Export AST as JSON\" button</li> <li> Download full AST with timestamp</li> <li> \"Load snapshot\" functionality</li> <li> Compare current AST with snapshot</li> <li> Show differences in UI</li> </ul>"},{"location":"planned-features/#phase-6c-theming-customization","title":"Phase 6c: Theming &amp; Customization","text":"<ul> <li> Dark/light mode toggle (Tailwind)</li> <li> Customizable tree display options</li> <li> Show/hide node hashes</li> <li> Show/hide node IDs</li> <li> Adjust font size</li> <li> Change color scheme</li> <li> Settings panel with localStorage persistence</li> </ul> <p>Estimated Time: 3-4 weeks</p>"},{"location":"planned-features/#command-palette-overlay","title":"Command Palette Overlay","text":"<p>Status: Planned Priority: Medium</p> <p>A Vim-like command palette for quick navigation and control:</p> <ul> <li> Overlay UI with fuzzy search</li> <li> Command history</li> <li> Quick track/scene selection</li> <li> Custom command creation</li> <li> Keyboard shortcuts discovery</li> </ul> <p>Estimated Time: 2 weeks</p>"},{"location":"planned-features/#low-priority-features","title":"Low Priority Features","text":""},{"location":"planned-features/#lua-plugin-system","title":"Lua Plugin System","text":"<p>Status: Planned Priority: Low</p> <p>Allow users to extend VimAbl with custom Lua plugins:</p> <ul> <li> Plugin API specification</li> <li> Plugin loader mechanism</li> <li> Example plugins</li> <li> Plugin documentation</li> <li> Community plugin repository</li> </ul> <p>Estimated Time: 4-6 weeks</p>"},{"location":"planned-features/#ai-powered-features","title":"AI-Powered Features","text":"<p>Status: Concept Phase Priority: Low</p> <p>Intelligent auto-completion and suggestions:</p> <ul> <li> Genre-based template suggestions</li> <li> Smart device recommendations</li> <li> Arrangement structure analysis</li> <li> Automated mixing suggestions</li> </ul> <p>Estimated Time: TBD (Research phase)</p>"},{"location":"planned-features/#windows-support","title":"Windows Support","text":"<p>Status: Planned Priority: Medium</p> <p>Port Hammerspoon integration to Windows:</p> <ul> <li> AutoHotkey integration (replaces Hammerspoon)</li> <li> Windows-specific keybindings</li> <li> Test on Windows 10/11</li> <li> Windows installation docs</li> </ul> <p>Estimated Time: 2-3 weeks</p>"},{"location":"planned-features/#phase-5-detailed-roadmap-udposc","title":"Phase 5 Detailed Roadmap (UDP/OSC)","text":""},{"location":"planned-features/#phase-5f-observer-lifecycle-management-complete","title":"Phase 5f: Observer Lifecycle Management \u2705 COMPLETE","text":"<p>Status: \u2705 Complete and Tested Date Completed: 2025-11-12</p> <p>What Was Accomplished: - LiveState.py integration with UDP sender - Manual control commands (START/STOP/REFRESH/STATUS) - Observer status reporting - Comprehensive documentation - Manual testing with Ableton Live</p> <p>Test Results: - End-to-end latency: ~10ms (target was &lt; 100ms) - CPU usage: ~2% (target was &lt; 5%) - Packet loss: 0% - 36+ tracks supported</p>"},{"location":"planned-features/#phase-5g-osc-debugging-tools","title":"Phase 5g: OSC Debugging Tools","text":"<p>Status: Planned</p> <ul> <li> Create <code>tools/osc_monitor.py</code></li> <li> UDP packet sniffer for port 9002</li> <li> Pretty-print OSC messages</li> <li> Color-coded output</li> <li> Create <code>tools/osc_send.py</code></li> <li> Send test OSC messages</li> <li> Support all message types</li> <li> Enhanced Remote Script logging</li> </ul> <p>Estimated Time: 1 week</p>"},{"location":"planned-features/#phase-5h-testing-validation","title":"Phase 5h: Testing &amp; Validation","text":"<p>Status: Planned</p> <ul> <li> Unit tests for UDP sender/listener</li> <li> Integration tests (end-to-end)</li> <li> Stress tests (1000+ events)</li> <li> Reliability tests (packet loss simulation)</li> <li> Manual testing checklist completion</li> </ul> <p>Estimated Time: 2 weeks</p>"},{"location":"planned-features/#phase-5i-bi-directional-communication-optional","title":"Phase 5i: Bi-Directional Communication (Optional)","text":"<p>Status: Planned</p> <p>Commands from WebSocket/UI to Remote Script:</p> <ul> <li> <code>select_track(index)</code></li> <li> <code>select_device(track_index, device_index)</code></li> <li> <code>toggle_mute(track_index)</code></li> <li> <code>trigger_clip(track_index, scene_index)</code></li> <li> Control buttons in Svelte UI</li> <li> Success/error feedback</li> </ul> <p>Estimated Time: 1-2 weeks</p>"},{"location":"planned-features/#phase-9-zeromq-integration-future","title":"Phase 9: ZeroMQ Integration (Future)","text":"<p>Status: Concept Phase Priority: Low Dependencies: Phase 5 complete and stable</p> <p>Goal: Replace UDP with ZeroMQ for production-grade reliability</p> <p>Why Defer? - UDP/OSC is simpler and works well for local use - ZeroMQ requires additional dependencies - Can migrate later if needed</p> <p>Architecture: - ZMQ PUB socket in Remote Script - ZMQ SUB socket in AST server - Automatic reconnection - Message queuing during disconnects</p> <p>Estimated Time: 3-4 weeks (when prioritized)</p>"},{"location":"planned-features/#testing-documentation-roadmap","title":"Testing &amp; Documentation Roadmap","text":""},{"location":"planned-features/#phase-7a-unit-tests","title":"Phase 7a: Unit Tests","text":"<ul> <li> Set up Vitest framework</li> <li> Write tests for Svelte stores</li> <li> Write tests for utilities</li> <li> Component tests</li> <li> Code coverage reporting</li> </ul>"},{"location":"planned-features/#phase-7b-integration-tests","title":"Phase 7b: Integration Tests","text":"<ul> <li> Python test suite for WebSocket server</li> <li> End-to-end workflow tests</li> <li> Error scenario tests</li> </ul>"},{"location":"planned-features/#phase-7c-documentation","title":"Phase 7c: Documentation","text":"<ul> <li> Update README with screenshots</li> <li> Create DEVELOPMENT.md</li> <li> Create user guide for TreeViewer</li> <li> Add comprehensive code comments</li> <li> API documentation</li> </ul> <p>Estimated Time: 2-3 weeks</p>"},{"location":"planned-features/#deployment-distribution","title":"Deployment &amp; Distribution","text":""},{"location":"planned-features/#phase-8a-production-build","title":"Phase 8a: Production Build","text":"<ul> <li> Configure Svelte for production</li> <li> Optimize bundle size</li> <li> Create static file server</li> <li> Combine with WebSocket server</li> </ul>"},{"location":"planned-features/#phase-8b-standalone-launcher","title":"Phase 8b: Standalone Launcher","text":"<ul> <li> Unified launcher script</li> <li> Command-line options</li> <li> Auto-open browser</li> <li> Single command: <code>python3 -m src.main --mode=viewer</code></li> </ul>"},{"location":"planned-features/#phase-8c-packaging-optional","title":"Phase 8c: Packaging (Optional)","text":"<ul> <li> Installation script</li> <li> PyInstaller executable</li> <li> macOS .app bundle</li> <li> Distribution testing</li> </ul> <p>Estimated Time: 2-3 weeks</p>"},{"location":"planned-features/#timeline-estimates","title":"Timeline Estimates","text":""},{"location":"planned-features/#near-term-next-1-3-months","title":"Near Term (Next 1-3 Months)","text":"<ol> <li>Phase 3: Real-Time Updates (2-3 weeks)</li> <li>Phase 4: Enhanced UI (3-4 weeks)</li> <li>Phase 5e: UDP/AST Integration (1-2 weeks)</li> </ol>"},{"location":"planned-features/#medium-term-3-6-months","title":"Medium Term (3-6 Months)","text":"<ol> <li>More Vim Motions (2-3 weeks)</li> <li>Command Palette (2 weeks)</li> <li>Phase 6: Advanced Features (3-4 weeks)</li> <li>Testing &amp; Documentation (2-3 weeks)</li> </ol>"},{"location":"planned-features/#long-term-6-12-months","title":"Long Term (6-12 Months)","text":"<ol> <li>Windows Support (2-3 weeks)</li> <li>Lua Plugin System (4-6 weeks)</li> <li>Production Deployment (2-3 weeks)</li> <li>AI-Powered Features (TBD)</li> </ol>"},{"location":"planned-features/#contributing","title":"Contributing","text":"<p>Want to help implement these features?</p> <ol> <li>Check the Development Guide</li> <li>Pick a feature from the roadmap</li> <li>Open a GitHub issue to discuss approach</li> <li>Submit a pull request</li> </ol>"},{"location":"planned-features/#success-criteria","title":"Success Criteria","text":""},{"location":"planned-features/#overall-project-success","title":"Overall Project Success","text":"<ul> <li> Tree viewer loads in &lt; 2 seconds</li> <li> Updates appear within 100ms of change</li> <li> UI remains responsive with 50+ tracks</li> <li> No WebSocket disconnections under normal use</li> <li> Comprehensive documentation for all features</li> </ul>"},{"location":"planned-features/#notes","title":"Notes","text":"<ul> <li>Phases are flexible and may be reordered based on user feedback</li> <li>Timeline estimates are approximate and may change</li> <li>Some features may be combined or split for efficiency</li> <li>Community contributions are welcome and encouraged</li> </ul> <p>Last Updated: 2025-11-17</p>"},{"location":"quick-start/","title":"Quick Start Guide","text":"<p>Get up and running with VimAbl in 5 minutes!</p> <p>Prerequisites</p> <p>Make sure you've completed the Installation Guide first.</p>"},{"location":"quick-start/#step-1-launch-ableton-live","title":"Step 1: Launch Ableton Live","text":"<ol> <li>Open Ableton Live</li> <li>Load any project (or start a new one)</li> <li>Verify the Remote Script is loaded:    <pre><code>echo \"GET_VIEW\" | nc 127.0.0.1 9001\n</code></pre>    You should see: <code>{\"view\": \"session\"}</code> or <code>{\"view\": \"arrangement\"}</code></li> </ol>"},{"location":"quick-start/#step-2-try-your-first-commands","title":"Step 2: Try Your First Commands","text":""},{"location":"quick-start/#in-session-view","title":"In Session View","text":"<p>Make sure you're in Session View (Tab to switch views if needed).</p> <p>Jump to First Scene: <pre><code>Press: g g (quickly, twice)\n</code></pre> Your view should jump to the first scene.</p> <p>Jump to Last Scene: <pre><code>Press: Shift + G\n</code></pre> Your view should jump to the last scene.</p>"},{"location":"quick-start/#in-arrangement-view","title":"In Arrangement View","text":"<p>Switch to Arrangement View (Tab).</p> <p>Jump to First Track: <pre><code>Press: g g (quickly, twice)\n</code></pre> The first track should be selected and the view should scroll to it.</p> <p>Jump to Last Track: <pre><code>Press: Shift + G\n</code></pre> The last track should be selected and the view should scroll to it.</p>"},{"location":"quick-start/#step-3-try-editing-commands","title":"Step 3: Try Editing Commands","text":"<p>Undo: <pre><code>Press: z a\n</code></pre> This triggers Ableton's undo function.</p> <p>Delete (Double-tap): <pre><code>Press: d d (quickly, twice)\n</code></pre> This triggers delete on the selected item.</p> <p>Toggle Browser: <pre><code>Press: Ctrl + -\n</code></pre> The device browser should toggle open/closed.</p>"},{"location":"quick-start/#step-4-explore-the-web-treeviewer","title":"Step 4: Explore the Web TreeViewer","text":"<p>The TreeViewer provides real-time visualization of your Ableton project.</p>"},{"location":"quick-start/#automatic-mode-recommended","title":"Automatic Mode (Recommended)","text":"<ol> <li>Make sure your Ableton project is saved</li> <li>Launch Ableton Live</li> <li>Wait ~5 seconds (WebSocket server starts automatically)</li> <li>Open http://localhost:5173 in your browser</li> </ol> <p>You should see a tree visualization of your project!</p>"},{"location":"quick-start/#manual-mode","title":"Manual Mode","text":"<pre><code># Terminal 1: Start WebSocket server\nuv run python -m src.main Example_Project/example.als --mode=websocket\n\n# Terminal 2: Start Svelte dev server\ncd src/web/frontend\nnpm run dev\n\n# Open http://localhost:5173 in browser\n</code></pre>"},{"location":"quick-start/#try-it-out","title":"Try It Out","text":"<ol> <li>In the web UI, expand tracks and devices</li> <li>In Ableton Live, rename a track</li> <li>Watch the UI update in real-time!</li> <li>Try changing track colors, adding devices, etc.</li> </ol>"},{"location":"quick-start/#step-5-check-real-time-observers","title":"Step 5: Check Real-Time Observers","text":"<p>VimAbl includes UDP/OSC observers that stream Live events in real-time.</p>"},{"location":"quick-start/#start-the-udp-listener","title":"Start the UDP Listener","text":"<pre><code># Terminal 1: Start listener\npython3 src/udp_listener/listener.py\n</code></pre>"},{"location":"quick-start/#make-changes-in-ableton","title":"Make Changes in Ableton","text":"<ul> <li>Rename a track \u2192 See event in terminal</li> <li>Mute/unmute a track \u2192 See event in terminal</li> <li>Adjust volume \u2192 See debounced events</li> <li>Change tempo \u2192 See event in terminal</li> </ul>"},{"location":"quick-start/#check-observer-status","title":"Check Observer Status","text":"<pre><code>echo \"GET_OBSERVER_STATUS\" | nc localhost 9001\n</code></pre> <p>You should see statistics about active observers.</p>"},{"location":"quick-start/#common-keybindings","title":"Common Keybindings","text":""},{"location":"quick-start/#session-view","title":"Session View","text":"Keybinding Action <code>gg</code> Jump to first scene <code>G</code> Jump to last scene <code>za</code> Undo <code>dd</code> Delete (double-tap) <code>Ctrl + -</code> Toggle browser"},{"location":"quick-start/#arrangement-view","title":"Arrangement View","text":"Keybinding Action <code>gg</code> Jump to first track (with scroll) <code>G</code> Jump to last track (with scroll) <code>za</code> Undo <code>dd</code> Delete (double-tap) <code>Ctrl + -</code> Toggle browser"},{"location":"quick-start/#web-treeviewer-controls","title":"Web TreeViewer Controls","text":"Keybinding Action <code>Cmd+Shift+W</code> Toggle WebSocket server <code>Cmd+Shift+R</code> Restart WebSocket server <code>Cmd+Shift+I</code> Show server status"},{"location":"quick-start/#next-steps","title":"Next Steps","text":"<p>Now that you've got the basics, dive deeper:</p> <ul> <li>User Guide - Learn all features in detail</li> <li>Keybindings Reference - Complete command list</li> <li>Architecture - Understand how it works</li> <li>Development Guide - Extend VimAbl with your own commands</li> </ul>"},{"location":"quick-start/#troubleshooting","title":"Troubleshooting","text":""},{"location":"quick-start/#commands-not-working","title":"Commands Not Working","text":"<ol> <li>\u2705 Check Ableton Live is the frontmost application</li> <li>\u2705 Verify Hammerspoon is running (menu bar icon)</li> <li>\u2705 Check Hammerspoon console for errors</li> <li>\u2705 Reload Hammerspoon config</li> </ol>"},{"location":"quick-start/#websocket-server-not-starting","title":"WebSocket Server Not Starting","text":"<ol> <li>\u2705 Make sure your project is saved (<code>.als</code> file exists)</li> <li>\u2705 Check port 8765 is not in use: <code>lsof -i :8765</code></li> <li>\u2705 Check Hammerspoon console for errors</li> <li>\u2705 Try manual mode to debug</li> </ol>"},{"location":"quick-start/#udp-events-not-appearing","title":"UDP Events Not Appearing","text":"<ol> <li>\u2705 Check listener is running: <code>lsof -i :9002</code></li> <li>\u2705 Verify Remote Script is loaded (check Log.txt)</li> <li>\u2705 Restart Ableton Live</li> <li>\u2705 Check observer status: <code>echo \"GET_OBSERVER_STATUS\" | nc localhost 9001</code></li> </ol> <p>Need more help? Check the Full Troubleshooting Guide.</p>"},{"location":"troubleshooting/","title":"Troubleshooting","text":"<p>Common issues and solutions for VimAbl.</p>"},{"location":"troubleshooting/#installation-issues","title":"Installation Issues","text":""},{"location":"troubleshooting/#remote-script-not-loading","title":"Remote Script Not Loading","text":"<p>Symptom: Ableton Live doesn't show LiveState in Control Surface dropdown</p> <p>Solutions:</p> <ol> <li> <p>\u2705 Check folder name - Must be exactly <code>LiveState</code> <pre><code>ls ~/Music/Ableton/User\\ Library/Remote\\ Scripts/\n# Should show: LiveState\n</code></pre></p> </li> <li> <p>\u2705 Check Python syntax <pre><code>python3 -m py_compile src/remote_script/LiveState.py\n# Should complete without errors\n</code></pre></p> </li> <li> <p>\u2705 View Ableton's log <pre><code>tail -f ~/Library/Preferences/Ableton/Live\\ */Log.txt\n# Look for: \"Live State Remote Script initialized\"\n</code></pre></p> </li> <li> <p>\u2705 Restart Ableton Live completely</p> </li> </ol>"},{"location":"troubleshooting/#hammerspoon-not-detecting-live","title":"Hammerspoon Not Detecting Live","text":"<p>Symptom: Keybindings don't work when Ableton is frontmost</p> <p>Solutions:</p> <ol> <li>\u2705 Check Hammerspoon console</li> <li>Look for: <code>\"Ableton VimMode: Application watcher started\"</code></li> <li> <p>Check for errors</p> </li> <li> <p>\u2705 Verify accessibility permissions</p> </li> <li>System Preferences \u2192 Security &amp; Privacy \u2192 Privacy \u2192 Accessibility</li> <li> <p>Ensure Hammerspoon is checked</p> </li> <li> <p>\u2705 Reload Hammerspoon config</p> </li> <li>Menu bar icon \u2192 Reload Config</li> </ol>"},{"location":"troubleshooting/#connection-issues","title":"Connection Issues","text":""},{"location":"troubleshooting/#server-connection-fails","title":"Server Connection Fails","text":"<p>Symptom: <code>nc 127.0.0.1 9001</code> doesn't connect</p> <p>Solutions:</p> <ol> <li> <p>\u2705 Check if server is running <pre><code>lsof -i :9001\n# Should show Python process\n</code></pre></p> </li> <li> <p>\u2705 Restart Ableton Live</p> </li> <li> <p>\u2705 Check firewall settings</p> </li> <li>Ensure localhost connections are allowed</li> </ol>"},{"location":"troubleshooting/#udp-events-not-received","title":"UDP Events Not Received","text":"<p>Symptom: UDP listener shows no events</p> <p>Solutions:</p> <ol> <li> <p>\u2705 Check listener is running <pre><code>lsof -i :9002\n# Should show Python process\n</code></pre></p> </li> <li> <p>\u2705 Verify observers are active <pre><code>echo \"GET_OBSERVER_STATUS\" | nc localhost 9001\n# Should return observer statistics\n</code></pre></p> </li> <li> <p>\u2705 Restart observers <pre><code>echo \"STOP_OBSERVERS\" | nc localhost 9001\necho \"START_OBSERVERS\" | nc localhost 9001\n</code></pre></p> </li> </ol>"},{"location":"troubleshooting/#keybinding-issues","title":"Keybinding Issues","text":""},{"location":"troubleshooting/#commands-not-working","title":"Commands Not Working","text":"<p>Symptom: Pressing <code>gg</code> or other commands does nothing</p> <p>Solutions:</p> <ol> <li>\u2705 Ensure Ableton is frontmost app</li> <li> <p>Commands only work when Live has focus</p> </li> <li> <p>\u2705 Check sequence timing</p> </li> <li>Press keys within 500ms</li> <li> <p>Try pressing slightly faster</p> </li> <li> <p>\u2705 Verify eventtap is running</p> </li> <li>Check Hammerspoon console</li> <li> <p>Eventtaps auto-restart every 5 seconds</p> </li> <li> <p>\u2705 Reload Hammerspoon config</p> </li> </ol>"},{"location":"troubleshooting/#wrong-command-executes","title":"Wrong Command Executes","text":"<p>Symptom: <code>gg</code> does the wrong action</p> <p>Solutions:</p> <ol> <li> <p>\u2705 Check current view <pre><code>echo \"GET_VIEW\" | nc 127.0.0.1 9001\n# Returns: {\"view\": \"session\"} or {\"view\": \"arrangement\"}\n</code></pre></p> </li> <li> <p>\u2705 Verify view matches what you see in Ableton</p> </li> <li> <p>\u2705 Restart Ableton Live</p> </li> </ol>"},{"location":"troubleshooting/#websocket-issues","title":"WebSocket Issues","text":""},{"location":"troubleshooting/#treeviewer-not-loading","title":"TreeViewer Not Loading","text":"<p>Symptom: <code>http://localhost:5173</code> doesn't load</p> <p>Solutions:</p> <ol> <li> <p>\u2705 Check Svelte dev server is running <pre><code>cd src/web/frontend\nnpm run dev\n# Should start on port 5173\n</code></pre></p> </li> <li> <p>\u2705 Check port availability <pre><code>lsof -i :5173\n</code></pre></p> </li> <li> <p>\u2705 Try manual mode <pre><code>uv run python -m src.main Example_Project/example.als --mode=websocket\n</code></pre></p> </li> </ol>"},{"location":"troubleshooting/#websocket-server-not-starting","title":"WebSocket Server Not Starting","text":"<p>Symptom: Server won't start automatically</p> <p>Solutions:</p> <ol> <li>\u2705 Ensure project is saved</li> <li> <p>Server needs a valid <code>.als</code> file</p> </li> <li> <p>\u2705 Check port 8765 <pre><code>lsof -i :8765\n# Kill if in use: lsof -ti :8765 | xargs kill\n</code></pre></p> </li> <li> <p>\u2705 Check Hammerspoon console for errors</p> </li> </ol>"},{"location":"troubleshooting/#performance-issues","title":"Performance Issues","text":""},{"location":"troubleshooting/#commands-are-slow","title":"Commands Are Slow","text":"<p>Symptom: Commands take &gt; 1 second to execute</p> <p>Solutions:</p> <ol> <li> <p>\u2705 Check server latency <pre><code>time echo \"GET_VIEW\" | nc 127.0.0.1 9001\n# Should be &lt; 50ms\n</code></pre></p> </li> <li> <p>\u2705 Restart Ableton Live</p> </li> <li> <p>Sometimes Live's API slows down after extended use</p> </li> <li> <p>\u2705 Check CPU usage</p> </li> <li>Remote Script should use &lt; 5% CPU</li> </ol>"},{"location":"troubleshooting/#high-cpu-usage","title":"High CPU Usage","text":"<p>Symptom: Remote Script uses excessive CPU</p> <p>Solutions:</p> <ol> <li> <p>\u2705 Check observer status <pre><code>echo \"GET_OBSERVER_STATUS\" | nc localhost 9001\n</code></pre></p> </li> <li> <p>\u2705 Stop observers temporarily <pre><code>echo \"STOP_OBSERVERS\" | nc localhost 9001\n</code></pre></p> </li> <li> <p>\u2705 Check for excessive events</p> </li> <li>Look for stuck observers or infinite loops</li> </ol>"},{"location":"troubleshooting/#debug-mode","title":"Debug Mode","text":""},{"location":"troubleshooting/#enable-verbose-logging","title":"Enable Verbose Logging","text":"<p>Remote Script: Add to <code>LiveState.py</code>: <pre><code>self.log_message(\"DEBUG: Your message here\")\n</code></pre></p> <p>View in log: <pre><code>tail -f ~/Library/Preferences/Ableton/Live\\ */Log.txt\n</code></pre></p> <p>Hammerspoon: Add to any <code>.lua</code> file: <pre><code>print(\"DEBUG: Your message here\")\n</code></pre></p> <p>View in Hammerspoon console.</p>"},{"location":"troubleshooting/#getting-help","title":"Getting Help","text":"<p>If none of these solutions work:</p> <ol> <li>Check the FAQ - FAQ</li> <li>Search GitHub Issues - Previous solutions</li> <li>Open a New Issue - Include:</li> <li>Error messages</li> <li>Log excerpts</li> <li>Steps to reproduce</li> <li>System information (macOS version, Live version)</li> </ol>"},{"location":"troubleshooting/#system-information","title":"System Information","text":"<p>Useful for bug reports:</p> <pre><code># macOS version\nsw_vers\n\n# Ableton Live version\n# (visible in Ableton \u2192 About Ableton Live)\n\n# Python version\npython3 --version\n\n# Hammerspoon version\n# (visible in Hammerspoon \u2192 About)\n\n# Check ports\nlsof -i :9001 -i :9002 -i :8765\n</code></pre>"},{"location":"api-reference/commands/","title":"Commands Reference","text":"<p>Complete reference of all TCP socket commands available via port 9001.</p> <p>Auto-Generated Content</p> <p>This page will be auto-generated from source code in future versions.</p>"},{"location":"api-reference/commands/#command-format","title":"Command Format","text":"<p>Commands are sent via TCP socket on port 9001:</p> <pre><code>echo \"COMMAND_NAME\" | nc 127.0.0.1 9001\n</code></pre> <p>Responses are JSON:</p> <pre><code>{\"success\": true, \"data\": {...}}\n// or\n{\"success\": false, \"error\": \"error message\"}\n</code></pre>"},{"location":"api-reference/commands/#view-commands","title":"View Commands","text":""},{"location":"api-reference/commands/#get_view","title":"GET_VIEW","text":"<p>Get the current view (Session or Arrangement).</p> <p>Request: <pre><code>echo \"GET_VIEW\" | nc 127.0.0.1 9001\n</code></pre></p> <p>Response: <pre><code>{\"view\": \"session\"}\n// or\n{\"view\": \"arrangement\"}\n</code></pre></p> <p>Performance: Fast path (no thread switching)</p>"},{"location":"api-reference/commands/#get_state","title":"GET_STATE","text":"<p>Get full Live state including transport, view, and track information.</p> <p>Request: <pre><code>echo \"GET_STATE\" | nc 127.0.0.1 9001\n</code></pre></p> <p>Response: <pre><code>{\n  \"view\": \"session\",\n  \"transport\": {\n    \"is_playing\": true,\n    \"tempo\": 120.0,\n    \"time_signature\": [4, 4]\n  },\n  \"tracks\": [...],\n  \"scenes\": [...]\n}\n</code></pre></p> <p>Performance: Runs on main thread (20-50ms)</p>"},{"location":"api-reference/commands/#navigation-commands","title":"Navigation Commands","text":""},{"location":"api-reference/commands/#select_first_scene","title":"SELECT_FIRST_SCENE","text":"<p>Select the first scene in Session View.</p> <p>Request: <pre><code>echo \"SELECT_FIRST_SCENE\" | nc 127.0.0.1 9001\n</code></pre></p> <p>Response: <pre><code>{\"success\": true, \"scene_index\": 0}\n</code></pre></p> <p>Behavior: - Only works in Session View - Scrolls view to show first scene</p>"},{"location":"api-reference/commands/#select_last_scene","title":"SELECT_LAST_SCENE","text":"<p>Select the last scene in Session View.</p> <p>Request: <pre><code>echo \"SELECT_LAST_SCENE\" | nc 127.0.0.1 9001\n</code></pre></p> <p>Response: <pre><code>{\"success\": true, \"scene_index\": 7}\n</code></pre></p> <p>Behavior: - Only works in Session View - Scrolls view to show last scene</p>"},{"location":"api-reference/commands/#select_first_track","title":"SELECT_FIRST_TRACK","text":"<p>Select the first track.</p> <p>Request: <pre><code>echo \"SELECT_FIRST_TRACK\" | nc 127.0.0.1 9001\n</code></pre></p> <p>Response: <pre><code>{\"success\": true, \"track_index\": 0}\n</code></pre></p> <p>Behavior: - Works in both Session and Arrangement View - Scrolls track list to top - Selects first non-master track</p>"},{"location":"api-reference/commands/#select_last_track","title":"SELECT_LAST_TRACK","text":"<p>Select the last track.</p> <p>Request: <pre><code>echo \"SELECT_LAST_TRACK\" | nc 127.0.0.1 9001\n</code></pre></p> <p>Response: <pre><code>{\"success\": true, \"track_index\": 15}\n</code></pre></p> <p>Behavior: - Works in both Session and Arrangement View - Scrolls track list to bottom - Selects last track before Master</p>"},{"location":"api-reference/commands/#observer-commands","title":"Observer Commands","text":""},{"location":"api-reference/commands/#get_observer_status","title":"GET_OBSERVER_STATUS","text":"<p>Get statistics about active UDP/OSC observers.</p> <p>Request: <pre><code>echo \"GET_OBSERVER_STATUS\" | nc localhost 9001\n</code></pre></p> <p>Response: <pre><code>{\n  \"success\": true,\n  \"stats\": {\n    \"track_observers\": 16,\n    \"device_observers\": 24,\n    \"total_events_sent\": 1523,\n    \"uptime_seconds\": 3600\n  }\n}\n</code></pre></p>"},{"location":"api-reference/commands/#start_observers","title":"START_OBSERVERS","text":"<p>Start all UDP/OSC observers (if stopped).</p> <p>Request: <pre><code>echo \"START_OBSERVERS\" | nc localhost 9001\n</code></pre></p> <p>Response: <pre><code>{\"success\": true, \"message\": \"Observers started\"}\n</code></pre></p>"},{"location":"api-reference/commands/#stop_observers","title":"STOP_OBSERVERS","text":"<p>Stop all UDP/OSC observers (saves CPU).</p> <p>Request: <pre><code>echo \"STOP_OBSERVERS\" | nc localhost 9001\n</code></pre></p> <p>Response: <pre><code>{\"success\": true, \"message\": \"Observers stopped\"}\n</code></pre></p>"},{"location":"api-reference/commands/#refresh_observers","title":"REFRESH_OBSERVERS","text":"<p>Refresh observer list (useful after adding/removing tracks).</p> <p>Request: <pre><code>echo \"REFRESH_OBSERVERS\" | nc localhost 9001\n</code></pre></p> <p>Response: <pre><code>{\"success\": true, \"message\": \"Observers refreshed\"}\n</code></pre></p>"},{"location":"api-reference/commands/#error-handling","title":"Error Handling","text":""},{"location":"api-reference/commands/#command-not-found","title":"Command Not Found","text":"<pre><code>{\n  \"success\": false,\n  \"error\": \"Unknown command: INVALID_COMMAND\"\n}\n</code></pre>"},{"location":"api-reference/commands/#internal-error","title":"Internal Error","text":"<pre><code>{\n  \"success\": false,\n  \"error\": \"AttributeError: 'NoneType' object has no attribute...\"\n}\n</code></pre>"},{"location":"api-reference/commands/#performance-characteristics","title":"Performance Characteristics","text":"Command Thread Typical Latency GET_VIEW Socket thread &lt; 1ms GET_STATE Main thread 20-50ms SELECT_FIRST_SCENE Main thread 20-50ms SELECT_LAST_SCENE Main thread 20-50ms SELECT_FIRST_TRACK Main thread 20-50ms SELECT_LAST_TRACK Main thread 20-50ms GET_OBSERVER_STATUS Main thread 20-50ms START_OBSERVERS Main thread 20-50ms STOP_OBSERVERS Main thread 20-50ms REFRESH_OBSERVERS Main thread 50-100ms"},{"location":"api-reference/commands/#adding-custom-commands","title":"Adding Custom Commands","text":"<p>See the Development Guide for how to add your own commands.</p>"},{"location":"api-reference/commands/#see-also","title":"See Also","text":"<ul> <li>Lua API - Hammerspoon wrapper functions</li> <li>OSC Protocol - UDP/OSC event reference</li> <li>Architecture - System architecture</li> </ul>"},{"location":"api-reference/osc-protocol/","title":"UDP/OSC Real-Time Observer Protocol","text":""},{"location":"api-reference/osc-protocol/#overview","title":"Overview","text":"<p>This document describes the UDP/OSC protocol used for real-time communication between the Ableton Live Remote Script and the AST Server. The protocol enables low-latency (&lt;1ms) event streaming without blocking Ableton's main thread.</p>"},{"location":"api-reference/osc-protocol/#architecture","title":"Architecture","text":"<pre><code>                     (A) .als file watcher\n          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n          \u2502  Python AST Server (Port 8765) \u2502\n          \u2502  - Maintains AST               \u2502\n          \u2502  - Computes diffs              \u2502\n          \u2502  - WebSocket broadcast to UI   \u2502\n          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u25b2\n   (D) UDP/OSC \u21e1     \u2502  \u21e3 WebSocket (to Svelte)\n      Port 9002      \u2502\n                     \u25bc\n          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n          \u2502  UDP Listener Bridge           \u2502\n          \u2502  - Receives OSC events         \u2502\n          \u2502  - Deduplicates messages       \u2502\n          \u2502  - Forwards to AST server      \u2502\n          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u25b2\n   UDP (fire &amp; forget, &lt; 1ms latency)\n                     \u2502\n          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n          \u2502  Ableton Remote Script         \u2502\n          \u2502  - Live API observers          \u2502\n          \u2502  - Emits OSC/UDP events        \u2502\n          \u2502  - Debounces rapid changes     \u2502\n          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"api-reference/osc-protocol/#port-allocation","title":"Port Allocation","text":"Port Service Protocol Purpose 9001 Remote Script TCP Server TCP Command interface (existing) 9002 UDP Listener UDP Real-time events (new) 8765 WebSocket Server WebSocket AST streaming to UI (existing)"},{"location":"api-reference/osc-protocol/#why-udposc","title":"Why UDP/OSC?","text":""},{"location":"api-reference/osc-protocol/#advantages","title":"Advantages","text":"<ul> <li>\u2705 Ultra-low latency - &lt; 1ms, fire-and-forget</li> <li>\u2705 Non-blocking - Remote Script never waits for acknowledgment</li> <li>\u2705 Ableton-friendly - Same pattern as Max for Live, TouchOSC, OSCulator</li> <li>\u2705 Lightweight - Just <code>socket.sendto()</code> in Python</li> <li>\u2705 Easy to debug - Standard OSC tools work (oscdump, Wireshark)</li> <li>\u2705 No dependencies - Uses Python's built-in <code>socket</code> module</li> </ul>"},{"location":"api-reference/osc-protocol/#disadvantages","title":"Disadvantages","text":"<ul> <li>\u26a0\ufe0f Unreliable - UDP packets can be lost or arrive out of order</li> <li>\u26a0\ufe0f No acknowledgment - Sender doesn't know if receiver got the message</li> <li>\u26a0\ufe0f Size limits - UDP packets limited to ~64KB (not an issue for our small messages)</li> </ul>"},{"location":"api-reference/osc-protocol/#mitigation-strategy","title":"Mitigation Strategy","text":"<ul> <li>Sequence numbers - Detect missing messages and gaps</li> <li>Deduplication - Ignore duplicate packets (in case of network retransmit)</li> <li>XML diff fallback - If gaps detected, trigger full XML reload and diff</li> <li>Debouncing - Coalesce rapid changes to reduce packet count</li> </ul>"},{"location":"api-reference/osc-protocol/#osc-message-format","title":"OSC Message Format","text":""},{"location":"api-reference/osc-protocol/#standard-osc-message-structure","title":"Standard OSC Message Structure","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  OSC Address Pattern (null-terminated)   \u2502  e.g., \"/live/track/renamed\\0\\0\"\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  OSC Type Tag String (null-terminated)   \u2502  e.g., \",is\\0\"\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Argument 1 (4-byte aligned)             \u2502  e.g., int32: 0\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Argument 2 (4-byte aligned)             \u2502  e.g., string: \"Bass\\0\\0\\0\"\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"api-reference/osc-protocol/#osc-type-tags","title":"OSC Type Tags","text":"<ul> <li><code>i</code> - 32-bit integer (int32)</li> <li><code>f</code> - 32-bit float (float32)</li> <li><code>s</code> - String (null-terminated, padded to 4-byte boundary)</li> <li><code>T</code> - Boolean True</li> <li><code>F</code> - Boolean False</li> </ul>"},{"location":"api-reference/osc-protocol/#sequence-number-wrapper","title":"Sequence Number Wrapper","text":"<p>All events are wrapped with sequence metadata:</p> <pre><code>/live/seq &lt;seq_num:int&gt; &lt;timestamp:float&gt; &lt;event_path:str&gt; &lt;args...&gt;\n</code></pre> <p>Example: <pre><code>/live/seq 42 1234567890.123 /live/track/renamed 0 \"New Track Name\"\n</code></pre></p>"},{"location":"api-reference/osc-protocol/#message-catalog","title":"Message Catalog","text":""},{"location":"api-reference/osc-protocol/#track-events","title":"Track Events","text":""},{"location":"api-reference/osc-protocol/#track-renamed","title":"Track Renamed","text":"<p><pre><code>/live/track/renamed &lt;track_idx:int&gt; &lt;name:str&gt;\n</code></pre> Example: <code>/live/track/renamed 0 \"Bass\"</code> When: User renames a track in Live OSC Types: <code>,is</code> (int, string)</p>"},{"location":"api-reference/osc-protocol/#track-added","title":"Track Added","text":"<p><pre><code>/live/track/added &lt;track_idx:int&gt; &lt;name:str&gt; &lt;type:str&gt;\n</code></pre> Example: <code>/live/track/added 3 \"Audio 4\" \"audio\"</code> When: User creates a new track OSC Types: <code>,iss</code> (int, string, string) Types: <code>\"audio\"</code>, <code>\"midi\"</code>, <code>\"return\"</code>, <code>\"master\"</code></p>"},{"location":"api-reference/osc-protocol/#track-deleted","title":"Track Deleted","text":"<p><pre><code>/live/track/deleted &lt;track_idx:int&gt;\n</code></pre> Example: <code>/live/track/deleted 2</code> When: User deletes a track OSC Types: <code>,i</code> (int)</p>"},{"location":"api-reference/osc-protocol/#track-mute","title":"Track Mute","text":"<p><pre><code>/live/track/mute &lt;track_idx:int&gt; &lt;muted:bool&gt;\n</code></pre> Example: <code>/live/track/mute 0 T</code> When: User toggles track mute OSC Types: <code>,iT</code> or <code>,iF</code> (int, bool)</p>"},{"location":"api-reference/osc-protocol/#track-arm","title":"Track Arm","text":"<p><pre><code>/live/track/arm &lt;track_idx:int&gt; &lt;armed:bool&gt;\n</code></pre> Example: <code>/live/track/arm 1 T</code> When: User arms/disarms a track for recording OSC Types: <code>,iT</code> or <code>,iF</code> (int, bool)</p>"},{"location":"api-reference/osc-protocol/#track-volume","title":"Track Volume","text":"<p><pre><code>/live/track/volume &lt;track_idx:int&gt; &lt;volume:float&gt;\n</code></pre> Example: <code>/live/track/volume 0 0.85</code> When: User changes track volume OSC Types: <code>,if</code> (int, float) Range: 0.0 (silent) to 1.0 (0dB) Debouncing: 50ms minimum interval</p>"},{"location":"api-reference/osc-protocol/#device-events","title":"Device Events","text":""},{"location":"api-reference/osc-protocol/#device-added","title":"Device Added","text":"<p><pre><code>/live/device/added &lt;track_idx:int&gt; &lt;device_idx:int&gt; &lt;name:str&gt;\n</code></pre> Example: <code>/live/device/added 0 2 \"Reverb\"</code> When: User adds a device to a track OSC Types: <code>,iis</code> (int, int, string)</p>"},{"location":"api-reference/osc-protocol/#device-deleted","title":"Device Deleted","text":"<p><pre><code>/live/device/deleted &lt;track_idx:int&gt; &lt;device_idx:int&gt;\n</code></pre> Example: <code>/live/device/deleted 0 1</code> When: User removes a device from a track OSC Types: <code>,ii</code> (int, int)</p>"},{"location":"api-reference/osc-protocol/#device-parameter-changed","title":"Device Parameter Changed","text":"<p><pre><code>/live/device/param &lt;track_idx:int&gt; &lt;device_idx:int&gt; &lt;param_id:int&gt; &lt;value:float&gt;\n</code></pre> Example: <code>/live/device/param 0 1 3 0.75</code> When: User tweaks a device parameter OSC Types: <code>,iiif</code> (int, int, int, float) Debouncing: 50ms minimum interval per parameter</p>"},{"location":"api-reference/osc-protocol/#clip-events","title":"Clip Events","text":""},{"location":"api-reference/osc-protocol/#clip-triggered","title":"Clip Triggered","text":"<p><pre><code>/live/clip/triggered &lt;track_idx:int&gt; &lt;scene_idx:int&gt;\n</code></pre> Example: <code>/live/clip/triggered 0 2</code> When: User launches a clip OSC Types: <code>,ii</code> (int, int)</p>"},{"location":"api-reference/osc-protocol/#clip-stopped","title":"Clip Stopped","text":"<p><pre><code>/live/clip/stopped &lt;track_idx:int&gt; &lt;scene_idx:int&gt;\n</code></pre> Example: <code>/live/clip/stopped 0 2</code> When: Clip stops playing OSC Types: <code>,ii</code> (int, int)</p>"},{"location":"api-reference/osc-protocol/#clip-added","title":"Clip Added","text":"<p><pre><code>/live/clip/added &lt;track_idx:int&gt; &lt;scene_idx:int&gt; &lt;name:str&gt;\n</code></pre> Example: <code>/live/clip/added 1 0 \"Drums\"</code> When: User creates a new clip OSC Types: <code>,iis</code> (int, int, string)</p>"},{"location":"api-reference/osc-protocol/#clip-deleted","title":"Clip Deleted","text":"<p><pre><code>/live/clip/deleted &lt;track_idx:int&gt; &lt;scene_idx:int&gt;\n</code></pre> Example: <code>/live/clip/deleted 1 0</code> When: User deletes a clip OSC Types: <code>,ii</code> (int, int)</p>"},{"location":"api-reference/osc-protocol/#scene-events","title":"Scene Events","text":""},{"location":"api-reference/osc-protocol/#scene-renamed","title":"Scene Renamed","text":"<p><pre><code>/live/scene/renamed &lt;scene_idx:int&gt; &lt;name:str&gt;\n</code></pre> Example: <code>/live/scene/renamed 0 \"Intro\"</code> When: User renames a scene OSC Types: <code>,is</code> (int, string)</p>"},{"location":"api-reference/osc-protocol/#scene-triggered","title":"Scene Triggered","text":"<p><pre><code>/live/scene/triggered &lt;scene_idx:int&gt;\n</code></pre> Example: <code>/live/scene/triggered 2</code> When: User launches an entire scene OSC Types: <code>,i</code> (int)</p>"},{"location":"api-reference/osc-protocol/#transport-events","title":"Transport Events","text":""},{"location":"api-reference/osc-protocol/#transport-playstop","title":"Transport Play/Stop","text":"<p><pre><code>/live/transport/play &lt;is_playing:bool&gt;\n</code></pre> Example: <code>/live/transport/play T</code> When: User starts/stops playback OSC Types: <code>,T</code> or <code>,F</code> (bool)</p>"},{"location":"api-reference/osc-protocol/#transport-tempo","title":"Transport Tempo","text":"<p><pre><code>/live/transport/tempo &lt;bpm:float&gt;\n</code></pre> Example: <code>/live/transport/tempo 128.0</code> When: User changes tempo OSC Types: <code>,f</code> (float) Debouncing: 100ms minimum interval</p>"},{"location":"api-reference/osc-protocol/#transport-position","title":"Transport Position","text":"<p><pre><code>/live/transport/position &lt;beats:float&gt;\n</code></pre> Example: <code>/live/transport/position 64.5</code> When: Playhead moves (HEAVILY DEBOUNCED) OSC Types: <code>,f</code> (float) Debouncing: 500ms minimum interval (or disable entirely)</p>"},{"location":"api-reference/osc-protocol/#batch-events","title":"Batch Events","text":"<p>Used to group multiple related changes into a single logical update.</p>"},{"location":"api-reference/osc-protocol/#batch-start","title":"Batch Start","text":"<p><pre><code>/live/batch/start &lt;batch_id:int&gt;\n</code></pre> Example: <code>/live/batch/start 1001</code> When: Beginning of a multi-event operation (e.g., loading a project) OSC Types: <code>,i</code> (int)</p>"},{"location":"api-reference/osc-protocol/#batch-end","title":"Batch End","text":"<p><pre><code>/live/batch/end &lt;batch_id:int&gt;\n</code></pre> Example: <code>/live/batch/end 1001</code> When: End of a multi-event operation OSC Types: <code>,i</code> (int)</p> <p>Use case: When a project loads, group all the \"track added\" events into a batch so the UI can update once instead of flickering.</p>"},{"location":"api-reference/osc-protocol/#sequence-numbers","title":"Sequence Numbers","text":""},{"location":"api-reference/osc-protocol/#format","title":"Format","text":"<p>Every message includes a sequence number in the wrapper: <pre><code>/live/seq &lt;seq_num:int&gt; &lt;timestamp:float&gt; &lt;event_path:str&gt; &lt;args...&gt;\n</code></pre></p>"},{"location":"api-reference/osc-protocol/#properties","title":"Properties","text":"<ul> <li>Monotonically increasing - Each message increments the sequence number</li> <li>Starts at 0 - First message after Remote Script startup</li> <li>Wraps at 2^31 - After ~2 billion messages (unlikely in practice)</li> <li>Reset on restart - Sequence resets when Ableton restarts</li> </ul>"},{"location":"api-reference/osc-protocol/#deduplication-algorithm","title":"Deduplication Algorithm","text":"<p>The UDP Listener maintains a circular buffer of recently seen sequence numbers:</p> <pre><code>class SequenceTracker:\n    def __init__(self, buffer_size=100):\n        self.last_seq = -1\n        self.seen = set()  # Recent sequence numbers\n        self.buffer_size = buffer_size\n\n    def is_duplicate(self, seq_num):\n        if seq_num in self.seen:\n            return True  # Duplicate\n\n        # Add to seen set\n        self.seen.add(seq_num)\n\n        # Keep buffer size bounded\n        if len(self.seen) &gt; self.buffer_size:\n            # Remove oldest entries (approximation)\n            self.seen = set(list(self.seen)[-self.buffer_size:])\n\n        return False\n\n    def detect_gap(self, seq_num):\n        if self.last_seq == -1:\n            self.last_seq = seq_num\n            return 0  # No gap on first message\n\n        expected = self.last_seq + 1\n        gap = seq_num - expected\n        self.last_seq = seq_num\n\n        if gap &gt; 0:\n            return gap  # Messages were lost\n        elif gap &lt; -1:\n            return 0  # Out of order, but within tolerance\n        else:\n            return 0  # Normal sequential message\n</code></pre>"},{"location":"api-reference/osc-protocol/#gap-handling","title":"Gap Handling","text":"<p>When a gap is detected: 1. Log warning - Record the gap size and sequence numbers 2. Continue processing - Don't drop the message just because of a gap 3. Trigger fallback - If gap &gt; 10 messages, trigger full XML reload 4. Update UI - Show yellow warning indicator in UI</p>"},{"location":"api-reference/osc-protocol/#debouncing-strategy","title":"Debouncing Strategy","text":""},{"location":"api-reference/osc-protocol/#why-debounce","title":"Why Debounce?","text":"<p>Some Live events fire extremely rapidly (e.g., volume faders, playhead position). Without debouncing, we'd flood the network with thousands of messages per second.</p>"},{"location":"api-reference/osc-protocol/#debounce-configuration","title":"Debounce Configuration","text":"Event Type Min Interval Rationale Track volume 50ms Smooth enough for UI, reduces flood Device parameters 50ms Smooth enough for UI, reduces flood Transport position 500ms Rarely needed in real-time UI Track rename 0ms Infrequent, send immediately Device add/remove 0ms Infrequent, send immediately Clip trigger/stop 0ms Time-critical, send immediately"},{"location":"api-reference/osc-protocol/#debounce-implementation","title":"Debounce Implementation","text":"<pre><code>class Debouncer:\n    def __init__(self):\n        self.last_send_time = {}  # event_key -&gt; timestamp\n\n    def should_send(self, event_key, min_interval_ms):\n        now = time.time()\n        last = self.last_send_time.get(event_key, 0)\n\n        if (now - last) * 1000 &gt;= min_interval_ms:\n            self.last_send_time[event_key] = now\n            return True\n        else:\n            return False  # Too soon, skip this event\n</code></pre> <p>Event key format: <code>\"{event_type}:{track_idx}:{param_id}\"</code></p> <p>Example: Volume change on track 0 \u2192 <code>\"track.volume:0\"</code></p>"},{"location":"api-reference/osc-protocol/#testing-debugging","title":"Testing &amp; Debugging","text":""},{"location":"api-reference/osc-protocol/#monitor-udp-traffic-with-netcat","title":"Monitor UDP Traffic with netcat","text":"<pre><code># Listen for UDP packets on port 9002\nnc -u -l 9002\n</code></pre>"},{"location":"api-reference/osc-protocol/#monitor-with-osc-tools","title":"Monitor with OSC Tools","text":"<pre><code># Install oscdump (if available)\nbrew install liblo\n\n# Monitor OSC messages\noscdump 9002\n</code></pre>"},{"location":"api-reference/osc-protocol/#send-test-messages","title":"Send Test Messages","text":"<pre><code># Install python-osc\npip install python-osc\n\n# Send test message\npython tools/osc_send.py /live/track/renamed 0 \"Test Track\"\n</code></pre>"},{"location":"api-reference/osc-protocol/#use-wireshark","title":"Use Wireshark","text":"<ol> <li>Start Wireshark capture on loopback interface (<code>lo0</code>)</li> <li>Filter: <code>udp.port == 9002</code></li> <li>Right-click packet \u2192 Decode As \u2192 OSC</li> <li>View OSC message contents</li> </ol>"},{"location":"api-reference/osc-protocol/#check-ableton-log","title":"Check Ableton Log","text":"<pre><code>tail -f ~/Library/Preferences/Ableton/Live\\ */Log.txt | grep \"UDP\"\n</code></pre>"},{"location":"api-reference/osc-protocol/#fallback-to-xml-diff","title":"Fallback to XML Diff","text":""},{"location":"api-reference/osc-protocol/#when-to-fallback","title":"When to Fallback","text":"<p>UDP is unreliable, so we need a fallback mechanism to ensure consistency:</p> <ol> <li>Gap detection - If sequence number gap &gt; 10</li> <li>Hash mismatch - If AST hash doesn't match after applying UDP events</li> <li>Periodic validation - Every 60 seconds, compare UDP-derived AST with XML</li> <li>Manual trigger - User can force full refresh via UI button</li> </ol>"},{"location":"api-reference/osc-protocol/#fallback-procedure","title":"Fallback Procedure","text":"<ol> <li>Detect inconsistency - Gap, hash mismatch, or timeout</li> <li>Log event - Record the reason for fallback</li> <li>Request XML export - Send <code>EXPORT_XML</code> command via TCP (port 9001)</li> <li>Parse XML - Load full project XML</li> <li>Compute diff - Compare UDP-derived AST with XML-derived AST</li> <li>Broadcast diff - Send corrected diff to WebSocket clients</li> <li>Update UI indicator - Show \"Synced via XML\" message</li> </ol>"},{"location":"api-reference/osc-protocol/#monitoring-fallback-rate","title":"Monitoring Fallback Rate","text":"<p>Track fallback statistics: - Fallback count - How many times did we fall back? - Fallback reason - Gap, hash mismatch, or periodic? - Average gap size - How many messages were lost?</p> <p>Target: &lt; 1 fallback per hour under normal use</p>"},{"location":"api-reference/osc-protocol/#performance-targets","title":"Performance Targets","text":"Metric Target Notes End-to-end latency &lt; 100ms From Live event to UI update UDP send time &lt; 1ms Fire-and-forget, non-blocking Packet loss rate &lt; 0.1% Local UDP is very reliable CPU overhead (Remote Script) &lt; 1% Minimal observer overhead CPU overhead (UDP Listener) &lt; 2% Parsing and forwarding Events per second 100-1000 Typical for active editing Max burst rate 5000/sec During project load (batched)"},{"location":"api-reference/osc-protocol/#future-enhancements-phase-9","title":"Future Enhancements (Phase 9)","text":""},{"location":"api-reference/osc-protocol/#zeromq-migration","title":"ZeroMQ Migration","text":"<p>For production/distributed setups, consider migrating to ZeroMQ:</p> <p>Advantages: - \u2705 Reliable delivery with automatic retries - \u2705 Built-in reconnection logic - \u2705 Message queuing during disconnect - \u2705 Multiple subscribers (PUB/SUB pattern) - \u2705 No need for sequence numbers or deduplication</p> <p>Disadvantages: - \u274c Requires <code>pyzmq</code> dependency in Remote Script - \u274c Slightly higher latency (~5ms vs ~1ms) - \u274c More complex to debug</p> <p>Decision: Start with UDP/OSC for simplicity. Migrate to ZMQ if reliability becomes an issue.</p>"},{"location":"api-reference/osc-protocol/#references","title":"References","text":"<ul> <li>OSC Specification</li> <li>Max for Live OSC</li> <li>TouchOSC Protocol</li> <li>Python OSC Library</li> </ul> <p>Last Updated: 2025-11-12 Status: Design complete, implementation pending</p>"},{"location":"architecture/overview/","title":"Architecture Overview","text":"<p>High-level overview of VimAbl's architecture and component design.</p>"},{"location":"architecture/overview/#system-architecture","title":"System Architecture","text":"<pre><code>graph TB\n    User[User Input&lt;br/&gt;Keyboard] --&gt; HS[Hammerspoon&lt;br/&gt;Lua Automation]\n    HS &lt;--&gt;|TCP 9001&lt;br/&gt;Commands| RS[Remote Script&lt;br/&gt;LiveState.py]\n    RS &lt;--&gt;|Live API| Live[Ableton Live]\n    RS --&gt;|UDP 9002&lt;br/&gt;OSC Events| UDP[UDP Listener]\n    UDP --&gt;|Process &amp; Forward| WS[WebSocket Server&lt;br/&gt;Port 8765]\n    WS &lt;--&gt;|WebSocket| UI[Svelte Web UI&lt;br/&gt;TreeViewer]\n    Live --&gt;|.als File Changes| FileWatch[File Watcher]\n    FileWatch --&gt;|Trigger Parse| WS\n\n    style HS fill:#ffa\n    style RS fill:#afa\n    style Live fill:#aaf\n    style UDP fill:#faf\n    style WS fill:#aff\n    style UI fill:#faa</code></pre>"},{"location":"architecture/overview/#core-components","title":"Core Components","text":""},{"location":"architecture/overview/#1-hammerspoon-integration","title":"1. Hammerspoon Integration","text":"<p>Technology: Lua Location: <code>src/hammerspoon/</code></p> <p>Responsibilities: - Capture keyboard input via eventtaps - Send commands to Remote Script - Detect Ableton Live application state - Auto-start/stop keybindings</p> <p>Key Files: - <code>ableton.lua</code> - Entry point - <code>live_state.lua</code> - Socket client - <code>app_watcher.lua</code> - Application monitoring - <code>keys/*.lua</code> - Keybinding modules</p>"},{"location":"architecture/overview/#2-python-remote-script","title":"2. Python Remote Script","text":"<p>Technology: Python 2.7 (Live's embedded Python) Location: <code>src/remote_script/</code></p> <p>Responsibilities: - Run inside Ableton Live process - Expose thread-safe command API - Monitor Live state via observers - Stream real-time events via UDP/OSC</p> <p>Key Files: - <code>LiveState.py</code> - Main controller - <code>observers.py</code> - Live API observers - <code>udp_sender.py</code> - OSC/UDP streaming - <code>commands.py</code> - Command handlers</p>"},{"location":"architecture/overview/#3-udp-listener-bridge","title":"3. UDP Listener Bridge","text":"<p>Technology: Python 3.11+ (asyncio) Location: <code>src/udp_listener/</code></p> <p>Responsibilities: - Receive OSC events from Remote Script - Deduplicate messages - Forward to WebSocket server (future)</p> <p>Key Files: - <code>listener.py</code> - Async UDP server - <code>osc_parser.py</code> - OSC message parser</p>"},{"location":"architecture/overview/#4-websocket-ast-server","title":"4. WebSocket AST Server","text":"<p>Technology: Python 3.11+ (asyncio, websockets) Location: <code>src/server/</code></p> <p>Responsibilities: - Parse .als files to AST - Compute incremental diffs - Stream updates via WebSocket - Handle client queries</p> <p>Key Files: - <code>api.py</code> - ASTServer implementation - <code>watcher.py</code> - File monitoring</p>"},{"location":"architecture/overview/#5-svelte-web-ui","title":"5. Svelte Web UI","text":"<p>Technology: SvelteKit, TypeScript, Tailwind CSS Location: <code>src/web/frontend/</code></p> <p>Responsibilities: - Real-time project visualization - Interactive tree navigation - Display Live events - Highlight changes</p> <p>Key Files: - <code>src/routes/+page.svelte</code> - Main view - <code>src/lib/components/TreeNode.svelte</code> - Tree rendering</p>"},{"location":"architecture/overview/#data-flow","title":"Data Flow","text":""},{"location":"architecture/overview/#command-flow-user-ableton","title":"Command Flow (User \u2192 Ableton)","text":"<pre><code>sequenceDiagram\n    participant U as User\n    participant HS as Hammerspoon\n    participant RS as Remote Script\n    participant Live as Ableton Live\n\n    U-&gt;&gt;HS: Press gg\n    HS-&gt;&gt;HS: Detect sequence\n    HS-&gt;&gt;RS: TCP \"SELECT_FIRST_TRACK\"\n    RS-&gt;&gt;RS: Queue for main thread\n    RS-&gt;&gt;Live: song().view.selected_track = tracks[0]\n    Live--&gt;&gt;RS: Acknowledge\n    RS--&gt;&gt;HS: {\"success\": true}\n    HS--&gt;&gt;U: Visual feedback</code></pre>"},{"location":"architecture/overview/#event-flow-ableton-ui","title":"Event Flow (Ableton \u2192 UI)","text":"<pre><code>sequenceDiagram\n    participant Live as Ableton Live\n    participant RS as Remote Script\n    participant UDP as UDP Listener\n    participant WS as WebSocket Server\n    participant UI as Svelte UI\n\n    Live-&gt;&gt;RS: Track renamed (observer)\n    RS-&gt;&gt;RS: Debounce (if needed)\n    RS-&gt;&gt;UDP: UDP OSC message\n    UDP-&gt;&gt;UDP: Parse &amp; deduplicate\n    UDP-&gt;&gt;WS: Forward event (future)\n    WS-&gt;&gt;WS: Update AST\n    WS-&gt;&gt;UI: WebSocket broadcast\n    UI-&gt;&gt;UI: Render update</code></pre>"},{"location":"architecture/overview/#communication-protocols","title":"Communication Protocols","text":""},{"location":"architecture/overview/#tcp-socket-port-9001","title":"TCP Socket (Port 9001)","text":"<p>Purpose: Command interface Direction: Bidirectional (Hammerspoon \u2194 Remote Script) Format: JSON over TCP</p> <p>Example: <pre><code>// Request\n\"GET_VIEW\"\n\n// Response\n{\"view\": \"session\"}\n</code></pre></p>"},{"location":"architecture/overview/#udposc-port-9002","title":"UDP/OSC (Port 9002)","text":"<p>Purpose: Real-time event streaming Direction: Unidirectional (Remote Script \u2192 UDP Listener) Format: OSC over UDP</p> <p>Example: <pre><code>Address: /live/track/renamed\nArguments: [0, \"Bass\"]\n</code></pre></p>"},{"location":"architecture/overview/#websocket-port-8765","title":"WebSocket (Port 8765)","text":"<p>Purpose: AST streaming to UI Direction: Bidirectional (Server \u2194 Svelte UI) Format: JSON over WebSocket</p> <p>Example: <pre><code>{\n  \"type\": \"ast_update\",\n  \"data\": {\n    \"tracks\": [...]\n  }\n}\n</code></pre></p>"},{"location":"architecture/overview/#thread-safety","title":"Thread Safety","text":""},{"location":"architecture/overview/#remote-script-threading","title":"Remote Script Threading","text":"<pre><code>graph LR\n    Main[Main Thread&lt;br/&gt;Live API] --&gt; Queue[Message Queue]\n    Socket[Socket Thread&lt;br/&gt;TCP Server] --&gt; Queue\n    Queue --&gt; Main\n    Main --&gt; Execute[Execute Commands]</code></pre> <p>Key Principles: 1. Live API only accessible from main thread 2. Commands queued via <code>schedule_message()</code> 3. Fast-path for read-only operations (GET_VIEW)</p>"},{"location":"architecture/overview/#udp-sender","title":"UDP Sender","text":"<ul> <li>Runs on socket thread (non-blocking)</li> <li>Fire-and-forget (no acknowledgment)</li> <li>&lt; 1ms latency</li> </ul>"},{"location":"architecture/overview/#performance-characteristics","title":"Performance Characteristics","text":"Component Latency CPU Usage Memory Hammerspoon &lt; 1ms &lt; 1% ~50MB Remote Script 20-50ms ~2% ~20MB UDP Sender &lt; 1ms &lt; 0.5% ~5MB UDP Listener &lt; 1ms ~1% ~30MB WebSocket Server 10-50ms ~2% ~100MB"},{"location":"architecture/overview/#extension-points","title":"Extension Points","text":""},{"location":"architecture/overview/#1-add-new-commands","title":"1. Add New Commands","text":"<ul> <li>Add handler in <code>LiveState.py</code></li> <li>Register in command map</li> <li>Add Lua wrapper in <code>live_state.lua</code></li> </ul>"},{"location":"architecture/overview/#2-add-new-observers","title":"2. Add New Observers","text":"<ul> <li>Create observer class in <code>observers.py</code></li> <li>Register in <code>LiveState._setup_observers()</code></li> <li>Define OSC messages</li> </ul>"},{"location":"architecture/overview/#3-add-new-keybindings","title":"3. Add New Keybindings","text":"<ul> <li>Create keybinding in <code>keys/*.lua</code></li> <li>Add to appropriate module</li> <li>Call Live State command</li> </ul>"},{"location":"architecture/overview/#4-add-ui-features","title":"4. Add UI Features","text":"<ul> <li>Extend Svelte components</li> <li>Handle WebSocket messages</li> <li>Update rendering logic</li> </ul>"},{"location":"architecture/overview/#design-principles","title":"Design Principles","text":""},{"location":"architecture/overview/#1-separation-of-concerns","title":"1. Separation of Concerns","text":"<p>Each component has a single, well-defined responsibility.</p>"},{"location":"architecture/overview/#2-loose-coupling","title":"2. Loose Coupling","text":"<p>Components communicate via well-defined protocols (TCP, UDP, WebSocket).</p>"},{"location":"architecture/overview/#3-performance-first","title":"3. Performance First","text":"<p>Minimize latency and CPU usage for real-time feel.</p>"},{"location":"architecture/overview/#4-fail-gracefully","title":"4. Fail Gracefully","text":"<p>Components can restart independently without affecting others.</p>"},{"location":"architecture/overview/#5-developer-friendly","title":"5. Developer-Friendly","text":"<p>Symlinks enable rapid iteration during development.</p>"},{"location":"architecture/overview/#see-also","title":"See Also","text":"<ul> <li>Python Remote Script - Remote Script internals</li> <li>Hammerspoon Integration - Lua automation details</li> <li>WebSocket AST - AST server and UI</li> <li>Data Flow - Detailed data flow diagrams</li> </ul>"},{"location":"development/extending/","title":"Extending VimAbl","text":"<p>Learn how to extend VimAbl with custom commands, keybindings, and modules.</p> <p>Coming Soon</p> <p>This page will be fully documented in the next release. For now, see the source code examples below.</p>"},{"location":"development/extending/#adding-new-commands","title":"Adding New Commands","text":""},{"location":"development/extending/#1-add-handler-in-remote-script","title":"1. Add Handler in Remote Script","text":"<p>Edit <code>src/remote_script/LiveState.py</code>:</p> <pre><code>def _handle_your_command(self, params=None):\n    \"\"\"Handle YOUR_COMMAND\"\"\"\n    try:\n        # Your logic here using self.song()\n        song = self.song()\n        # ... your code ...\n        return {\"success\": True, \"data\": \"result\"}\n    except Exception as e:\n        return {\"success\": False, \"error\": str(e)}\n</code></pre>"},{"location":"development/extending/#2-register-command","title":"2. Register Command","text":"<p>In <code>_register_commands()</code>:</p> <pre><code>def _register_commands(self):\n    \"\"\"Register all command handlers\"\"\"\n    return {\n        # ... existing commands ...\n        \"YOUR_COMMAND\": self._handle_your_command,\n    }\n</code></pre>"},{"location":"development/extending/#3-add-lua-wrapper","title":"3. Add Lua Wrapper","text":"<p>Edit <code>src/hammerspoon/live_state.lua</code>:</p> <pre><code>function M.yourCommand()\n    local response = sendCommand(\"YOUR_COMMAND\")\n    if response and response.success then\n        return response.data\n    end\n    return nil\nend\n</code></pre>"},{"location":"development/extending/#4-add-keybinding","title":"4. Add Keybinding","text":"<p>Create or edit a file in <code>src/hammerspoon/keys/</code>:</p> <pre><code>local liveState = require(\"live_state\")\n\n-- Define your keybinding\nhs.hotkey.bind({\"cmd\"}, \"y\", function()\n    if not isAbletonFrontmost() then return end\n    liveState.yourCommand()\nend)\n</code></pre>"},{"location":"development/extending/#adding-new-observers","title":"Adding New Observers","text":""},{"location":"development/extending/#1-create-observer-class","title":"1. Create Observer Class","text":"<p>Edit <code>src/remote_script/observers.py</code>:</p> <pre><code>class YourObserver:\n    def __init__(self, parent, target, udp_sender):\n        self.parent = parent\n        self.target = target\n        self.udp = udp_sender\n        self.setup_listeners()\n\n    def setup_listeners(self):\n        # Add Live API listeners\n        if self.target.some_property_has_listener:\n            self.target.add_some_property_listener(self.on_some_property_changed)\n\n    def on_some_property_changed(self):\n        value = self.target.some_property\n        self.udp.send(\"/live/your/event\", [value])\n\n    def cleanup(self):\n        # Remove listeners\n        if self.target.some_property_has_listener:\n            self.target.remove_some_property_listener(self.on_some_property_changed)\n</code></pre>"},{"location":"development/extending/#2-register-observer","title":"2. Register Observer","text":"<p>In <code>LiveState.py</code>, add to <code>_setup_observers()</code>:</p> <pre><code>def _setup_observers(self):\n    # ... existing observers ...\n    your_observer = YourObserver(self, self.song(), self.udp_sender)\n    self.observers.append(your_observer)\n</code></pre>"},{"location":"development/extending/#adding-new-keybinding-modules","title":"Adding New Keybinding Modules","text":""},{"location":"development/extending/#create-new-module","title":"Create New Module","text":"<p>Create <code>src/hammerspoon/keys/your_module.lua</code>:</p> <pre><code>local liveState = require(\"live_state\")\nlocal utils = require(\"utils\")\n\nlocal M = {}\n\nfunction M.init()\n    -- Your keybindings here\n    hs.hotkey.bind({\"cmd\"}, \"k\", function()\n        if not utils.isAbletonFrontmost() then return end\n        liveState.yourCommand()\n    end)\nend\n\nreturn M\n</code></pre>"},{"location":"development/extending/#load-module","title":"Load Module","text":"<p>Edit <code>src/hammerspoon/ableton.lua</code>:</p> <pre><code>-- Require your module\nlocal yourModule = require(\"keys/your_module\")\n\n-- Initialize it\nyourModule.init()\n</code></pre>"},{"location":"development/extending/#customizing-existing-keybindings","title":"Customizing Existing Keybindings","text":""},{"location":"development/extending/#edit-keybinding-files","title":"Edit Keybinding Files","text":"<p>Keybindings are in <code>src/hammerspoon/keys/</code>:</p> <ul> <li><code>navigation.lua</code> - Navigation commands (gg, G)</li> <li><code>editing.lua</code> - Editing commands (dd, za)</li> <li><code>views.lua</code> - View toggles</li> </ul>"},{"location":"development/extending/#example-change-sequence-timeout","title":"Example: Change Sequence Timeout","text":"<p>Edit <code>src/hammerspoon/config.lua</code>:</p> <pre><code>M.timeouts = {\n    doubleTap = 500,    -- milliseconds (default)\n    sequence = 750,     -- increase to 750ms for more time\n}\n</code></pre>"},{"location":"development/extending/#project-structure-for-extensions","title":"Project Structure for Extensions","text":"<pre><code>src/\n\u251c\u2500\u2500 remote_script/\n\u2502   \u251c\u2500\u2500 LiveState.py        # Add commands here\n\u2502   \u251c\u2500\u2500 commands.py         # Or separate command files\n\u2502   \u2514\u2500\u2500 observers.py        # Add observers here\n\u2502\n\u2514\u2500\u2500 hammerspoon/\n    \u251c\u2500\u2500 live_state.lua      # Add command wrappers\n    \u251c\u2500\u2500 config.lua          # Configuration\n    \u2514\u2500\u2500 keys/               # Add keybinding modules\n        \u251c\u2500\u2500 navigation.lua\n        \u251c\u2500\u2500 editing.lua\n        \u251c\u2500\u2500 views.lua\n        \u2514\u2500\u2500 your_module.lua # Your new module\n</code></pre>"},{"location":"development/extending/#best-practices","title":"Best Practices","text":""},{"location":"development/extending/#thread-safety","title":"Thread Safety","text":"<p>Always use <code>schedule_message()</code> for Live API operations:</p> <pre><code>def _handle_command(self, params=None):\n    # Queue for main thread\n    self.schedule_message(0, self._do_command, params)\n\ndef _do_command(self, params):\n    # This runs on main thread - safe to use Live API\n    song = self.song()\n    # ... Live API calls ...\n</code></pre>"},{"location":"development/extending/#error-handling","title":"Error Handling","text":"<p>Always wrap commands in try/except:</p> <pre><code>def _handle_command(self, params=None):\n    try:\n        # Your code\n        return {\"success\": True}\n    except Exception as e:\n        self.log_message(f\"Error: {str(e)}\")\n        return {\"success\": False, \"error\": str(e)}\n</code></pre>"},{"location":"development/extending/#logging","title":"Logging","text":"<p>Use consistent logging:</p> <pre><code># Python\nself.log_message(\"Your message\")\n\n# Lua\nprint(\"Your message\")  -- Visible in Hammerspoon console\n</code></pre>"},{"location":"development/extending/#testing-your-extensions","title":"Testing Your Extensions","text":""},{"location":"development/extending/#test-command-via-netcat","title":"Test Command via netcat","text":"<pre><code>echo \"YOUR_COMMAND\" | nc 127.0.0.1 9001\n</code></pre>"},{"location":"development/extending/#test-keybinding","title":"Test Keybinding","text":"<ol> <li>Reload Hammerspoon config</li> <li>Open Hammerspoon console</li> <li>Press your keybinding</li> <li>Check console for errors</li> </ol>"},{"location":"development/extending/#test-observer","title":"Test Observer","text":"<pre><code># Start UDP listener\npython3 src/udp_listener/listener.py\n\n# Make changes in Ableton\n# Watch for events in listener output\n</code></pre>"},{"location":"development/extending/#examples","title":"Examples","text":"<p>See existing implementations: - LiveState.py - navigation.lua - observers.py</p>"},{"location":"development/extending/#contributing","title":"Contributing","text":"<p>Want to contribute your extension?</p> <ol> <li>Fork the repository</li> <li>Create a feature branch</li> <li>Add your extension</li> <li>Test thoroughly</li> <li>Submit a pull request</li> </ol> <p>See CONTRIBUTING.md</p>"},{"location":"user-guide/editing/","title":"Editing","text":"<p>Learn how to edit and manipulate your Ableton Live project using Vim-style commands.</p>"},{"location":"user-guide/editing/#core-editing-commands","title":"Core Editing Commands","text":""},{"location":"user-guide/editing/#delete-dd","title":"Delete: <code>dd</code>","text":"<p>The <code>dd</code> command (press <code>d</code> twice quickly) deletes the currently selected item:</p> <p>In Session View: - Deletes the selected scene or clip</p> <p>In Arrangement View: - Deletes the selected track or clip</p> <p>Usage: <pre><code>Press: d d (within 500ms)\n</code></pre></p> <p>Destructive Operation</p> <p>Delete cannot be undone in some cases. Use <code>za</code> to undo if needed.</p>"},{"location":"user-guide/editing/#undo-za","title":"Undo: <code>za</code>","text":"<p>The <code>za</code> command triggers Ableton's undo function:</p> <p>In Any View: - Undoes the last operation - Works with both VimAbl commands and native Ableton edits</p> <p>Usage: <pre><code>Press: z a\n</code></pre></p> <p>Vim Mapping</p> <p>In Vim, <code>za</code> toggles folds. VimAbl repurposes this for undo since Ableton doesn't have code folding.</p>"},{"location":"user-guide/editing/#view-controls","title":"View Controls","text":""},{"location":"user-guide/editing/#toggle-browser-ctrl-","title":"Toggle Browser: <code>Ctrl + -</code>","text":"<p>Toggles the Ableton device browser open/closed:</p> <p>Usage: <pre><code>Press: Ctrl + - (hyphen/minus)\n</code></pre></p> <p>Use Cases: - Quick access to devices and instruments - Close browser to maximize screen space - Navigate browser with keyboard after opening</p>"},{"location":"user-guide/editing/#how-editing-works","title":"How Editing Works","text":""},{"location":"user-guide/editing/#double-tap-detection","title":"Double-Tap Detection","text":"<p>Edit commands like <code>dd</code> use the same sequence detector as navigation:</p> <ol> <li>First <code>d</code> press starts a timer (500ms window)</li> <li>Second <code>d</code> press triggers delete</li> <li>If timeout expires, sequence is reset</li> </ol>"},{"location":"user-guide/editing/#thread-safety","title":"Thread Safety","text":"<p>All editing commands are executed on Ableton's main thread:</p> <pre><code># Pseudo-code showing thread-safe execution\ndef handle_delete():\n    schedule_message(0, self._do_delete)  # Execute on main thread\n</code></pre> <p>This ensures stability and prevents crashes.</p>"},{"location":"user-guide/editing/#undo-integration","title":"Undo Integration","text":"<p>VimAbl's undo command (<code>za</code>) calls Ableton's native undo:</p> <pre><code>def handle_undo():\n    song = self.song()\n    song.undo()\n</code></pre> <p>This integrates seamlessly with Ableton's undo history.</p>"},{"location":"user-guide/editing/#advanced-usage","title":"Advanced Usage","text":""},{"location":"user-guide/editing/#quick-edit-patterns","title":"Quick Edit Patterns","text":"<p>Pattern 1: Delete and undo review <pre><code>dd \u2192 (review result) \u2192 za (if mistake)\n</code></pre></p> <p>Pattern 2: Clean up project <pre><code>gg \u2192 (review scenes) \u2192 dd \u2192 dd \u2192 dd (delete multiple)\n</code></pre></p> <p>Pattern 3: Browser workflow <pre><code>Ctrl + - \u2192 (select device) \u2192 Enter \u2192 Ctrl + -\n(Open browser \u2192 choose \u2192 close browser)\n</code></pre></p>"},{"location":"user-guide/editing/#planned-features","title":"Planned Features","text":"<p>Coming Soon</p> <p>These editing features are planned for future releases:</p> <ul> <li><code>y</code> (yank) - Copy selected item</li> <li><code>p</code> (put) - Paste copied item</li> <li><code>c</code> (change) - Replace selected item</li> <li>Visual mode - Select multiple items</li> <li><code>u</code> (undo) - Direct undo (not <code>za</code>)</li> <li><code>Ctrl+r</code> (redo) - Redo last undone operation</li> </ul>"},{"location":"user-guide/editing/#performance","title":"Performance","text":"<p>Editing commands are fast and reliable:</p> Metric Value Command latency 20-50ms Thread safety \u2705 All commands Undo integration \u2705 Native"},{"location":"user-guide/editing/#troubleshooting","title":"Troubleshooting","text":""},{"location":"user-guide/editing/#dd-not-deleting","title":"<code>dd</code> Not Deleting","text":"<p>Symptom: Pressing <code>d</code> twice doesn't delete</p> <p>Solutions: 1. \u2705 Press <code>d</code> twice within 500ms 2. \u2705 Ensure something is selected 3. \u2705 Check Ableton Live is frontmost app 4. \u2705 Verify Remote Script is running</p>"},{"location":"user-guide/editing/#undo-za-not-working","title":"Undo (<code>za</code>) Not Working","text":"<p>Symptom: Nothing happens when pressing <code>z</code> then <code>a</code></p> <p>Solutions: 1. \u2705 Ensure there's something to undo 2. \u2705 Check Hammerspoon console for errors 3. \u2705 Test with native undo (Cmd+Z) to verify it works 4. \u2705 Restart Hammerspoon</p>"},{"location":"user-guide/editing/#browser-toggle-not-responding","title":"Browser Toggle Not Responding","text":"<p>Symptom: <code>Ctrl + -</code> doesn't toggle browser</p> <p>Solutions: 1. \u2705 Verify keybinding isn't conflicting with other apps 2. \u2705 Check Hammerspoon eventtap is running 3. \u2705 Try reloading Hammerspoon config 4. \u2705 Check for macOS accessibility permissions</p>"},{"location":"user-guide/editing/#see-also","title":"See Also","text":"<ul> <li>Navigation Commands - Move around efficiently</li> <li>Keybindings Reference - Complete command list</li> <li>Session vs Arrangement - View-specific behavior</li> </ul>"},{"location":"user-guide/keybindings/","title":"Keybindings Reference","text":"<p>Complete reference of all VimAbl keybindings.</p> <p>Auto-Generated Content</p> <p>This page will be auto-generated from source code in future versions.</p>"},{"location":"user-guide/keybindings/#navigation-commands","title":"Navigation Commands","text":""},{"location":"user-guide/keybindings/#session-view","title":"Session View","text":"Keybinding Command Description <code>gg</code> Select First Scene Jump to first scene and scroll to top <code>Shift+G</code> Select Last Scene Jump to last scene and scroll to bottom"},{"location":"user-guide/keybindings/#arrangement-view","title":"Arrangement View","text":"Keybinding Command Description <code>gg</code> Select First Track Jump to first track and scroll to top <code>Shift+G</code> Select Last Track Jump to last track and scroll to bottom"},{"location":"user-guide/keybindings/#editing-commands","title":"Editing Commands","text":""},{"location":"user-guide/keybindings/#all-views","title":"All Views","text":"Keybinding Command Description <code>dd</code> Delete Delete selected scene, track, or clip <code>za</code> Undo Undo last operation <code>Ctrl+-</code> Toggle Browser Open/close device browser"},{"location":"user-guide/keybindings/#web-treeviewer-commands","title":"Web TreeViewer Commands","text":"Keybinding Command Description <code>Cmd+Shift+W</code> Toggle Server Start/stop WebSocket server <code>Cmd+Shift+R</code> Restart Server Restart WebSocket server <code>Cmd+Shift+I</code> Server Info Show server status"},{"location":"user-guide/keybindings/#sequence-detection","title":"Sequence Detection","text":""},{"location":"user-guide/keybindings/#timing","title":"Timing","text":"<p>All multi-key sequences (like <code>gg</code>, <code>dd</code>, <code>za</code>) must be completed within 500ms.</p>"},{"location":"user-guide/keybindings/#configuration","title":"Configuration","text":"<p>The timeout can be adjusted in <code>src/hammerspoon/config.lua</code>:</p> <pre><code>M.timeouts = {\n    doubleTap = 500,    -- milliseconds\n    sequence = 500,     -- milliseconds\n}\n</code></pre>"},{"location":"user-guide/keybindings/#customization","title":"Customization","text":""},{"location":"user-guide/keybindings/#adding-new-keybindings","title":"Adding New Keybindings","text":"<p>See the Development Guide for instructions on adding custom keybindings.</p>"},{"location":"user-guide/keybindings/#modifying-existing-keybindings","title":"Modifying Existing Keybindings","text":"<p>Edit the keybinding files in <code>src/hammerspoon/keys/</code>:</p> <ul> <li><code>navigation.lua</code> - Navigation commands</li> <li><code>editing.lua</code> - Editing commands</li> <li><code>views.lua</code> - View and browser toggles</li> </ul>"},{"location":"user-guide/keybindings/#vim-comparison","title":"Vim Comparison","text":""},{"location":"user-guide/keybindings/#implemented","title":"Implemented","text":"Vim VimAbl Description <code>gg</code> <code>gg</code> Jump to beginning <code>G</code> <code>G</code> Jump to end <code>dd</code> <code>dd</code> Delete line/item <code>za</code> <code>za</code> Toggle fold \u2192 Undo (adapted)"},{"location":"user-guide/keybindings/#planned","title":"Planned","text":"Vim VimAbl (planned) Description <code>y</code> <code>y</code> Yank (copy) <code>p</code> <code>p</code> Put (paste) <code>c</code> <code>c</code> Change <code>u</code> <code>u</code> Undo (direct) <code>Ctrl+r</code> <code>Ctrl+r</code> Redo <code>v</code> <code>v</code> Visual mode <code>h/j/k/l</code> <code>h/j/k/l</code> Motion (arrow keys)"},{"location":"user-guide/keybindings/#command-categories","title":"Command Categories","text":""},{"location":"user-guide/keybindings/#high-frequency-commands","title":"High-Frequency Commands","text":"<p>Commands you'll use most often: - <code>gg</code> / <code>G</code> - Navigation - <code>dd</code> - Delete</p>"},{"location":"user-guide/keybindings/#low-frequency-commands","title":"Low-Frequency Commands","text":"<p>Commands for specific tasks: - <code>Ctrl+-</code> - Browser toggle - <code>Cmd+Shift+W</code> - Server control</p>"},{"location":"user-guide/keybindings/#system-commands","title":"System Commands","text":"<p>Commands for debugging and status: - <code>Cmd+Shift+I</code> - Server info</p>"},{"location":"user-guide/keybindings/#keyboard-layout-considerations","title":"Keyboard Layout Considerations","text":"<p>VimAbl keybindings are designed for QWERTY keyboards. If using a different layout:</p> <ol> <li>Keybindings are based on physical key positions</li> <li>Some characters may differ on non-QWERTY layouts</li> <li>See Development Guide for remapping</li> </ol>"},{"location":"user-guide/keybindings/#accessibility","title":"Accessibility","text":"<p>All keybindings can be executed with one hand for accessibility:</p> <ul> <li><code>gg</code> - One hand, two fingers</li> <li><code>G</code> - One hand (Shift+g)</li> <li><code>dd</code> - One hand, two fingers</li> <li><code>za</code> - One hand, two fingers</li> </ul>"},{"location":"user-guide/keybindings/#see-also","title":"See Also","text":"<ul> <li>Navigation Guide - Detailed navigation docs</li> <li>Editing Guide - Detailed editing docs</li> <li>Session vs Arrangement - View-specific behavior</li> </ul>"},{"location":"user-guide/navigation/","title":"Navigation","text":"<p>Learn how to navigate efficiently in Ableton Live using Vim-style keybindings.</p>"},{"location":"user-guide/navigation/#core-navigation-commands","title":"Core Navigation Commands","text":""},{"location":"user-guide/navigation/#jump-to-beginning-gg","title":"Jump to Beginning: <code>gg</code>","text":"<p>The <code>gg</code> command (press <code>g</code> twice quickly) jumps to the beginning of your current view:</p> <p>In Session View: - Selects the first scene - Scrolls the view to show scene 1</p> <p>In Arrangement View: - Selects the first track - Scrolls the track list to the top</p> <p>Usage: <pre><code>Press: g g (within 500ms)\n</code></pre></p>"},{"location":"user-guide/navigation/#jump-to-end-g","title":"Jump to End: <code>G</code>","text":"<p>The <code>G</code> command (Shift + g) jumps to the end of your current view:</p> <p>In Session View: - Selects the last scene - Scrolls the view to show the final scene</p> <p>In Arrangement View: - Selects the last track - Scrolls the track list to the bottom</p> <p>Usage: <pre><code>Press: Shift + G\n</code></pre></p>"},{"location":"user-guide/navigation/#how-navigation-works","title":"How Navigation Works","text":""},{"location":"user-guide/navigation/#sequence-detection","title":"Sequence Detection","text":"<p>VimAbl uses a sequence detector to recognize multi-key commands like <code>gg</code>:</p> <ol> <li>First <code>g</code> press starts a timer (500ms window)</li> <li>Second <code>g</code> press triggers the command</li> <li>If timeout expires, sequence is reset</li> </ol>"},{"location":"user-guide/navigation/#automatic-scrolling","title":"Automatic Scrolling","text":"<p>Unlike native Ableton commands, VimAbl's navigation includes automatic scrolling:</p> <ul> <li>Session View: Ensures the selected scene is visible</li> <li>Arrangement View: Scrolls the track list to show the selected track</li> </ul> <p>This provides a more complete \"jump\" behavior similar to Vim's <code>gg</code> and <code>G</code>.</p>"},{"location":"user-guide/navigation/#context-awareness","title":"Context Awareness","text":"<p>Navigation commands automatically detect which view is active:</p> <pre><code>-- Pseudo-code showing context detection\nif currentView == \"session\" then\n    selectFirstScene()\nelse\n    selectFirstTrack()\nend\n</code></pre>"},{"location":"user-guide/navigation/#advanced-usage","title":"Advanced Usage","text":""},{"location":"user-guide/navigation/#quick-scenetrack-navigation","title":"Quick Scene/Track Navigation","text":"<p>Combine <code>gg</code> and <code>G</code> for quick navigation patterns:</p> <p>Pattern 1: Review project structure <pre><code>gg \u2192 G \u2192 gg \u2192 G\n(Top \u2192 Bottom \u2192 Top \u2192 Bottom)\n</code></pre></p> <p>Pattern 2: Navigate to specific area <pre><code>gg \u2192 (arrow keys to desired location)\n(Start at top, navigate with arrows)\n</code></pre></p>"},{"location":"user-guide/navigation/#integration-with-native-navigation","title":"Integration with Native Navigation","text":"<p>VimAbl commands work alongside Ableton's native navigation:</p> <ul> <li>Arrow keys - Move one scene/track at a time</li> <li>Page Up/Down - Move page by page</li> <li>VimAbl <code>gg</code>/<code>G</code> - Jump to extremes</li> </ul>"},{"location":"user-guide/navigation/#performance","title":"Performance","text":"<p>Navigation commands are optimized for speed:</p> Metric Value Command latency 20-50ms Scroll smoothness Native Ableton CPU usage &lt; 1%"},{"location":"user-guide/navigation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"user-guide/navigation/#gg-not-working","title":"<code>gg</code> Not Working","text":"<p>Symptom: Pressing <code>g</code> twice doesn't jump</p> <p>Solutions: 1. \u2705 Press <code>g</code> twice within 500ms 2. \u2705 Ensure Ableton Live is frontmost app 3. \u2705 Check Hammerspoon console for errors 4. \u2705 Verify eventtap is running (auto-restarts every 5s)</p>"},{"location":"user-guide/navigation/#navigation-jumps-to-wrong-location","title":"Navigation Jumps to Wrong Location","text":"<p>Symptom: Command selects unexpected scene/track</p> <p>Solutions: 1. \u2705 Check which view is active (Session vs Arrangement) 2. \u2705 Verify server connection: <code>echo \"GET_VIEW\" | nc 127.0.0.1 9001</code> 3. \u2705 Restart Ableton Live to reload Remote Script</p>"},{"location":"user-guide/navigation/#scrolling-doesnt-work","title":"Scrolling Doesn't Work","text":"<p>Symptom: Selection changes but view doesn't scroll</p> <p>Solutions: 1. \u2705 This is expected in some Ableton versions (API limitation) 2. \u2705 Try using native Ableton scrolling after selection 3. \u2705 Check Remote Script log for errors</p>"},{"location":"user-guide/navigation/#see-also","title":"See Also","text":"<ul> <li>Editing Commands - Modify your project</li> <li>Keybindings Reference - Complete command list</li> <li>Session vs Arrangement - View-specific behavior</li> </ul>"},{"location":"user-guide/overview/","title":"User Guide Overview","text":"<p>Welcome to the VimAbl user guide! This section covers everything you need to know to use VimAbl effectively.</p>"},{"location":"user-guide/overview/#what-youll-learn","title":"What You'll Learn","text":""},{"location":"user-guide/overview/#core-concepts","title":"\ud83c\udfaf Core Concepts","text":"<ul> <li>Vim-style Navigation - How <code>gg</code>, <code>G</code>, and other motions work in Ableton Live</li> <li>Context-Aware Commands - Different behavior in Session vs Arrangement view</li> <li>Real-Time Updates - Understanding the observer system and web visualization</li> </ul>"},{"location":"user-guide/overview/#guide-sections","title":"\ud83d\udcda Guide Sections","text":""},{"location":"user-guide/overview/#navigation","title":"Navigation","text":"<p>Learn all the navigation commands for moving around in Ableton Live efficiently:</p> <ul> <li>Jump to first/last scene or track (<code>gg</code>, <code>G</code>)</li> <li>Context switching between views</li> <li>Scrolling and focus management</li> </ul>"},{"location":"user-guide/overview/#editing","title":"Editing","text":"<p>Master the editing commands for manipulating your project:</p> <ul> <li>Delete operations (<code>dd</code>)</li> <li>Undo/redo (<code>za</code>)</li> <li>Browser and device controls</li> </ul>"},{"location":"user-guide/overview/#session-vs-arrangement","title":"Session vs Arrangement","text":"<p>Understand how commands behave differently in each view:</p> <ul> <li>Session View specifics</li> <li>Arrangement View specifics</li> <li>View switching and context awareness</li> </ul>"},{"location":"user-guide/overview/#keybindings-reference","title":"Keybindings Reference","text":"<p>Complete reference of all available keybindings:</p> <ul> <li>Organized by category</li> <li>Includes default mappings</li> <li>Quick reference table</li> </ul>"},{"location":"user-guide/overview/#udposc-observers","title":"UDP/OSC Observers","text":"<p>Learn about the real-time observer system:</p> <ul> <li>What observers do</li> <li>Event types and debouncing</li> <li>Performance characteristics</li> </ul>"},{"location":"user-guide/overview/#web-treeviewer","title":"Web TreeViewer","text":"<p>Using the real-time project visualization:</p> <ul> <li>Starting the TreeViewer</li> <li>Navigation and exploration</li> <li>Real-time updates</li> </ul>"},{"location":"user-guide/overview/#getting-help","title":"Getting Help","text":"<p>Quick Reference</p> <p>For a complete list of all keybindings, see the Keybindings Reference.</p> <p>Troubleshooting</p> <p>Having issues? Check the Troubleshooting Guide.</p>"},{"location":"user-guide/overview/#vim-philosophy-in-vimabl","title":"Vim Philosophy in VimAbl","text":"<p>VimAbl brings Vim's efficient keyboard-driven workflow to Ableton Live:</p>"},{"location":"user-guide/overview/#motions","title":"Motions","text":"<ul> <li><code>gg</code> - Go to beginning (first scene/track)</li> <li><code>G</code> - Go to end (last scene/track)</li> </ul>"},{"location":"user-guide/overview/#operators","title":"Operators","text":"<ul> <li><code>d</code> - Delete operator (requires double-tap: <code>dd</code>)</li> <li><code>z</code> - Fold/undo operator (requires <code>a</code>: <code>za</code>)</li> </ul>"},{"location":"user-guide/overview/#context-awareness","title":"Context Awareness","text":"<p>Unlike traditional Vim, VimAbl is context-aware based on which Ableton view is active:</p> <ul> <li>Session View - Commands operate on scenes and clips</li> <li>Arrangement View - Commands operate on tracks and timeline</li> </ul> <p>This ensures the right command is executed for your current workflow.</p>"},{"location":"user-guide/overview/#command-categories","title":"Command Categories","text":""},{"location":"user-guide/overview/#navigation-commands","title":"Navigation Commands","text":"<p>Commands for moving around in your project quickly and efficiently.</p> <p>Key commands: <code>gg</code>, <code>G</code></p> <p>Learn more: Navigation Guide</p>"},{"location":"user-guide/overview/#editing-commands","title":"Editing Commands","text":"<p>Commands for manipulating and modifying your project.</p> <p>Key commands: <code>dd</code>, <code>za</code>, <code>Ctrl + -</code></p> <p>Learn more: Editing Guide</p>"},{"location":"user-guide/overview/#view-commands","title":"View Commands","text":"<p>Commands for switching between and controlling different Ableton views.</p> <p>Key commands: <code>Tab</code> (built-in), browser toggles</p> <p>Learn more: Session vs Arrangement</p>"},{"location":"user-guide/overview/#tips-for-effective-use","title":"Tips for Effective Use","text":""},{"location":"user-guide/overview/#1-start-with-the-basics","title":"1. Start with the Basics","text":"<p>Master <code>gg</code> and <code>G</code> first - these are your primary navigation tools.</p>"},{"location":"user-guide/overview/#2-learn-the-context","title":"2. Learn the Context","text":"<p>Understanding when you're in Session vs Arrangement view is crucial for predictable behavior.</p>"},{"location":"user-guide/overview/#3-use-the-web-treeviewer","title":"3. Use the Web TreeViewer","text":"<p>The TreeViewer helps you visualize your project structure and see real-time changes.</p>"},{"location":"user-guide/overview/#4-check-observer-status","title":"4. Check Observer Status","text":"<p>Monitor observer events to understand what's happening under the hood:</p> <pre><code>echo \"GET_OBSERVER_STATUS\" | nc localhost 9001\n</code></pre>"},{"location":"user-guide/overview/#5-customize-as-needed","title":"5. Customize as Needed","text":"<p>VimAbl is designed to be extended. See the Development Guide for customization options.</p>"},{"location":"user-guide/overview/#next-steps","title":"Next Steps","text":"<ul> <li>New to VimAbl? \u2192 Start with Navigation</li> <li>Vim user? \u2192 Jump to Keybindings Reference</li> <li>Developer? \u2192 Check out Architecture</li> </ul> <p>Ready to dive in? Let's start with Navigation!</p>"},{"location":"user-guide/session-vs-arrangement/","title":"Session vs Arrangement View","text":"<p>Understanding how VimAbl commands behave differently in each Ableton Live view.</p>"},{"location":"user-guide/session-vs-arrangement/#view-detection","title":"View Detection","text":"<p>VimAbl automatically detects which view is active and adjusts command behavior accordingly.</p>"},{"location":"user-guide/session-vs-arrangement/#how-it-works","title":"How It Works","text":"<p>The Remote Script monitors Live's view state:</p> <pre><code># View detection in Remote Script\ncurrent_view = self.application().view.focused_document_view\n# Returns: \"Session\" or \"Arrangement\"\n</code></pre> <p>Commands query this state before executing:</p> <pre><code>echo \"GET_VIEW\" | nc 127.0.0.1 9001\n# Returns: {\"view\": \"session\"} or {\"view\": \"arrangement\"}\n</code></pre>"},{"location":"user-guide/session-vs-arrangement/#session-view-commands","title":"Session View Commands","text":""},{"location":"user-guide/session-vs-arrangement/#navigation","title":"Navigation","text":"Command Action <code>gg</code> Select first scene, scroll to top <code>G</code> Select last scene, scroll to bottom"},{"location":"user-guide/session-vs-arrangement/#editing","title":"Editing","text":"Command Action <code>dd</code> Delete selected scene or clip <code>za</code> Undo last operation"},{"location":"user-guide/session-vs-arrangement/#use-cases","title":"Use Cases","text":"<p>Session View is optimized for: - Live performance and improvisation - Clip-based composition - Scene arrangement and triggering</p>"},{"location":"user-guide/session-vs-arrangement/#arrangement-view-commands","title":"Arrangement View Commands","text":""},{"location":"user-guide/session-vs-arrangement/#navigation_1","title":"Navigation","text":"Command Action <code>gg</code> Select first track, scroll track list to top <code>G</code> Select last track, scroll track list to bottom"},{"location":"user-guide/session-vs-arrangement/#editing_1","title":"Editing","text":"Command Action <code>dd</code> Delete selected track or clip <code>za</code> Undo last operation"},{"location":"user-guide/session-vs-arrangement/#use-cases_1","title":"Use Cases","text":"<p>Arrangement View is optimized for: - Linear composition and editing - Timeline-based production - Final arrangement and mixdown</p>"},{"location":"user-guide/session-vs-arrangement/#shared-commands","title":"Shared Commands","text":"<p>Some commands work identically in both views:</p>"},{"location":"user-guide/session-vs-arrangement/#browser-control","title":"Browser Control","text":"Command Action <code>Ctrl + -</code> Toggle device browser"},{"location":"user-guide/session-vs-arrangement/#system-commands","title":"System Commands","text":"<p>All system-level commands (observer control, server status) work in any view.</p>"},{"location":"user-guide/session-vs-arrangement/#view-switching","title":"View Switching","text":""},{"location":"user-guide/session-vs-arrangement/#native-ableton","title":"Native Ableton","text":"<p>Use Ableton's native view switching: - Tab - Switch between Session and Arrangement - Cmd+Tab - Application switcher (macOS)</p>"},{"location":"user-guide/session-vs-arrangement/#vimabl-integration","title":"VimAbl Integration","text":"<p>VimAbl commands automatically adapt when you switch views - no configuration needed!</p> <pre><code>Session View \u2192 Press gg \u2192 Jumps to first scene\nSwitch to Arrangement View (Tab)\nArrangement View \u2192 Press gg \u2192 Jumps to first track\n</code></pre>"},{"location":"user-guide/session-vs-arrangement/#best-practices","title":"Best Practices","text":""},{"location":"user-guide/session-vs-arrangement/#1-understand-your-workflow","title":"1. Understand Your Workflow","text":"<p>Session-focused workflow: - Ideal for live performance - Use <code>gg</code>/<code>G</code> for quick scene navigation - Organize scenes logically (intro, verse, chorus, etc.)</p> <p>Arrangement-focused workflow: - Ideal for production - Use <code>gg</code>/<code>G</code> for track navigation - Organize tracks by type (drums, bass, synths, etc.)</p>"},{"location":"user-guide/session-vs-arrangement/#2-leverage-context-awareness","title":"2. Leverage Context Awareness","text":"<p>Don't try to remember different keybindings for each view - VimAbl does the right thing automatically:</p> <pre><code>Same muscle memory \u2192 Different context \u2192 Appropriate action\n</code></pre>"},{"location":"user-guide/session-vs-arrangement/#3-combine-with-native-navigation","title":"3. Combine with Native Navigation","text":"<p>VimAbl's <code>gg</code>/<code>G</code> work great with Ableton's native navigation:</p> <ul> <li><code>gg</code> \u2192 Jump to start</li> <li>Arrow keys \u2192 Navigate to specific location</li> <li><code>G</code> \u2192 Jump to end for comparison</li> </ul>"},{"location":"user-guide/session-vs-arrangement/#implementation-details","title":"Implementation Details","text":""},{"location":"user-guide/session-vs-arrangement/#view-state-caching","title":"View State Caching","text":"<p>For performance, VimAbl caches the current view state:</p> <ul> <li>View changes are monitored via Live API observer</li> <li>Cache is updated immediately on view switch</li> <li>Fast path for <code>GET_VIEW</code> command (no thread switching)</li> </ul>"},{"location":"user-guide/session-vs-arrangement/#command-routing","title":"Command Routing","text":"<p>Commands are routed based on view:</p> <pre><code>def handle_select_first(self):\n    view = self.get_current_view()\n    if view == \"session\":\n        self.select_first_scene()\n    else:\n        self.select_first_track()\n</code></pre>"},{"location":"user-guide/session-vs-arrangement/#future-enhancements","title":"Future Enhancements","text":"<p>Planned Features</p> <ul> <li>Detail View awareness - Different commands for detail panel</li> <li>Browser navigation - Vim-style browsing in device browser</li> <li>Mixer View support - Dedicated commands for mixer view</li> </ul>"},{"location":"user-guide/session-vs-arrangement/#troubleshooting","title":"Troubleshooting","text":""},{"location":"user-guide/session-vs-arrangement/#command-does-wrong-action","title":"Command Does Wrong Action","text":"<p>Symptom: <code>gg</code> jumps to wrong thing</p> <p>Solution: <pre><code># Check current view\necho \"GET_VIEW\" | nc 127.0.0.1 9001\n\n# Verify it matches what you see in Ableton\n</code></pre></p>"},{"location":"user-guide/session-vs-arrangement/#view-detection-not-working","title":"View Detection Not Working","text":"<p>Symptom: Commands always behave like Session view</p> <p>Solution: 1. \u2705 Restart Ableton Live 2. \u2705 Check Remote Script log for errors 3. \u2705 Verify Remote Script is properly installed</p>"},{"location":"user-guide/session-vs-arrangement/#see-also","title":"See Also","text":"<ul> <li>Navigation - Navigation commands</li> <li>Editing - Editing commands</li> <li>Keybindings Reference - Complete command list</li> </ul>"},{"location":"user-guide/udp-observers/","title":"Established UDP/OSC Observers","text":"<p>Status: \u2705 Fully Working Last Updated: 2025-11-12 Remote Script Version: Phase 5f Complete</p>"},{"location":"user-guide/udp-observers/#overview","title":"Overview","text":"<p>The UDP/OSC observer system monitors Ableton Live in real-time and streams events via UDP to port 9002. All observers are automatically initialized when Ableton Live loads the Remote Script.</p>"},{"location":"user-guide/udp-observers/#active-observers","title":"Active Observers","text":""},{"location":"user-guide/udp-observers/#1-trackobserver","title":"1. TrackObserver","text":"<p>Purpose: Monitors individual tracks for property changes</p> <p>Events Sent:</p> Event Path Arguments Debounce Description <code>/live/track/renamed</code> <code>[track_idx, name]</code> 0ms Track name changed <code>/live/track/mute</code> <code>[track_idx, bool]</code> 0ms Track muted/unmuted (Track On button) <code>/live/track/arm</code> <code>[track_idx, bool]</code> 0ms Track armed/disarmed (record enable) <code>/live/track/volume</code> <code>[track_idx, float]</code> 50ms Track volume fader changed (0.0-1.0) <code>/live/track/added</code> <code>[track_idx, name, type]</code> 0ms New track added <code>/live/track/deleted</code> <code>[track_idx]</code> 0ms Track deleted <p>Scope:</p> <ul> <li>Monitors all tracks (Audio, MIDI, Return, Master)</li> <li>Arm listener only added to tracks that support arming (<code>can_be_armed</code>)</li> <li>Volume listener attached via <code>mixer_device.volume</code> parameter</li> <li>Auto-refreshes when tracks are added/removed</li> </ul> <p>Verified Working: \u2705</p> <ul> <li>Track rename: \u2705</li> <li>Track mute: \u2705 (tested with track 16)</li> <li>Track volume: \u2705 (tested with track 16, debounced 50ms)</li> <li>Track arm: \u26a0\ufe0f (not yet tested)</li> </ul>"},{"location":"user-guide/udp-observers/#2-deviceobserver","title":"2. DeviceObserver","text":"<p>Purpose: Monitors devices on tracks for parameter changes</p> <p>Events Sent:</p> Event Path Arguments Debounce Description <code>/live/device/added</code> <code>[track_idx, dev_idx, name]</code> 0ms Device added to track <code>/live/device/deleted</code> <code>[track_idx, dev_idx]</code> 0ms Device removed from track <code>/live/device/param</code> <code>[track_idx, dev_idx, param_idx, value]</code> 50ms Device parameter changed <p>Scope:</p> <ul> <li>One observer per device on each track</li> <li>Monitors first 8 parameters only per device</li> <li>Parameter observers use debouncing to prevent flooding</li> <li>Auto-creates observers when devices are added</li> <li>Auto-destroys observers when devices are removed</li> </ul> <p>Verified Working: \u2705</p> <ul> <li>Device parameter: \u2705 (tested with track 16, device 2, param 7)</li> </ul>"},{"location":"user-guide/udp-observers/#3-transportobserver","title":"3. TransportObserver","text":"<p>Purpose: Monitors global transport state</p> <p>Events Sent:</p> Event Path Arguments Debounce Description <code>/live/transport/play</code> <code>[bool]</code> 0ms Playback started/stopped <code>/live/transport/tempo</code> <code>[float]</code> 100ms Tempo (BPM) changed <p>Scope:</p> <ul> <li>Single observer for entire Live session</li> <li>Tempo changes are debounced to prevent flooding when dragging</li> <li>Position/beat events are NOT observed (too high-frequency)</li> </ul> <p>Verified Working: \u2705</p> <ul> <li>Tempo change: \u2705 (tested from 121-118 BPM, debounced 100ms)</li> <li>Transport play: \u26a0\ufe0f (not yet tested)</li> </ul>"},{"location":"user-guide/udp-observers/#observer-lifecycle","title":"Observer Lifecycle","text":""},{"location":"user-guide/udp-observers/#initialization","title":"Initialization","text":"<pre><code>Ableton Live starts\n  \u2193\nRemote Script loads (LiveState.py)\n  \u2193\nUDP sender initialized (127.0.0.1:9002)\n  \u2193\nObserverManager created\n  \u2193\nObserverManager.start() called\n  \u2193\nCreates TrackObserver for each track\nCreates DeviceObserver for each device\nCreates TransportObserver\n  \u2193\nAll listeners registered\n</code></pre>"},{"location":"user-guide/udp-observers/#automatic-refresh","title":"Automatic Refresh","text":"<p>The ObserverManager automatically refreshes when:</p> <ul> <li>Tracks are added (creates new TrackObserver)</li> <li>Tracks are deleted (removes TrackObserver)</li> <li>Devices are added (creates new DeviceObserver)</li> <li>Devices are deleted (removes DeviceObserver)</li> </ul>"},{"location":"user-guide/udp-observers/#manual-control-via-tcp-port-9001","title":"Manual Control (via TCP port 9001)","text":"Start/Stop Observers<pre><code># Start observers\necho \"START_OBSERVERS\" | nc localhost 9001\n\n# Stop observers (save CPU)\necho \"STOP_OBSERVERS\" | nc localhost 9001\n\n# Refresh observer list\necho \"REFRESH_OBSERVERS\" | nc localhost 9001\n\n# Get observer status\necho \"GET_OBSERVER_STATUS\" | nc localhost 9001\n# Response: {\"success\": true, \"stats\": {\"enabled\": true, \"track_count\": 36, \"has_transport\": true}}\n</code></pre>"},{"location":"user-guide/udp-observers/#not-implemented-future","title":"NOT Implemented (Future)","text":""},{"location":"user-guide/udp-observers/#clipobserver","title":"ClipObserver","text":"<p>Reason: Deferred to future enhancement Events: clip triggered, clip stopped, clip name changed</p>"},{"location":"user-guide/udp-observers/#sceneobserver","title":"SceneObserver","text":"<p>Reason: Deferred to future enhancement Events: scene triggered, scene name changed</p>"},{"location":"user-guide/udp-observers/#positionobserver","title":"PositionObserver","text":"<p>Reason: Too high-frequency, would flood UDP Alternative: Poll position when needed via TCP commands</p>"},{"location":"user-guide/udp-observers/#debouncing-configuration","title":"Debouncing Configuration","text":"Event Type Interval Rationale Structural changes (name, mute, arm, add, delete) 0ms Send immediately Volume fader 50ms Smooth for dragging, reduces flood Device parameters 50ms Smooth for tweaking, reduces flood Tempo 100ms Less critical, reduces overhead <p>Implementation: <code>Debouncer</code> class in <code>observers.py</code></p>"},{"location":"user-guide/udp-observers/#event-statistics","title":"Event Statistics","text":"<p>Based on manual testing (2025-11-12):</p> <p>Test Session:</p> <ul> <li>Duration: ~5 minutes</li> <li>Tracks: 36 total</li> <li>Events received: 38</li> </ul> <p>Event Breakdown:</p> <ul> <li>Tempo changes: 7 events (121 \u2192 118 BPM)</li> <li>Track mute: 8 events (on/off toggling)</li> <li>Track volume: 20 events (fader dragging)</li> <li>Device parameter: 1 event</li> <li>Track rename: 2 events (earlier tests)</li> </ul> <p>Performance:</p> <ul> <li>Latency: &lt; 10ms (localhost UDP)</li> <li>CPU usage: &lt; 2% (Ableton Remote Script)</li> <li>Packet loss: 0% (localhost is reliable)</li> <li>Sequence gaps: 0 (no missed events)</li> </ul>"},{"location":"user-guide/udp-observers/#debugging","title":"Debugging","text":""},{"location":"user-guide/udp-observers/#check-if-observers-are-running","title":"Check if observers are running:","text":"<pre><code>echo \"GET_OBSERVER_STATUS\" | nc localhost 9001\n</code></pre> <p>Expected response:</p> <pre><code>{\n  \"success\": true,\n  \"stats\": {\n    \"enabled\": true,\n    \"track_count\": 36,\n    \"has_transport\": true\n  }\n}\n</code></pre>"},{"location":"user-guide/udp-observers/#check-ableton-log-for-initialization","title":"Check Ableton log for initialization:","text":"<pre><code>tail -50 ~/Library/Preferences/Ableton/Live*/Log.txt | grep -E \"(UDP|observer)\"\n</code></pre> <p>Expected messages:</p> <pre><code>UDP sender initialized on 127.0.0.1:9002\nUDP observer manager started\nTrack 0: Added name listener\nTrack 0: Added mute listener\nTrack 0: Added arm listener\nTrack 0: Added volume listener\nTrack 0: Added devices listener\n...\n</code></pre>"},{"location":"user-guide/udp-observers/#monitor-udp-traffic","title":"Monitor UDP traffic:","text":"<pre><code># Terminal 1: Start listener\npython3 src/udp_listener/listener.py\n\n# Terminal 2: Make changes in Ableton\n# Watch events appear in Terminal 1\n</code></pre>"},{"location":"user-guide/udp-observers/#send-manual-test-events","title":"Send manual test events:","text":"<pre><code>python3 tools/test_udp_manual.py\n</code></pre>"},{"location":"user-guide/udp-observers/#troubleshooting","title":"Troubleshooting","text":""},{"location":"user-guide/udp-observers/#no-events-received","title":"No events received","text":"<p>Check 1: Is UDP listener running?</p> <pre><code>lsof -i :9002\n</code></pre> <p>Check 2: Is Remote Script loaded?</p> <pre><code>echo \"GET_OBSERVER_STATUS\" | nc localhost 9001\n</code></pre> <p>Check 3: Restart Ableton Live</p> <ul> <li>Quit Ableton completely</li> <li>Start UDP listener</li> <li>Launch Ableton again</li> </ul>"},{"location":"user-guide/udp-observers/#only-seeing-some-event-types","title":"Only seeing some event types","text":"<p>Check: Track type matters</p> <ul> <li>Master and Return tracks can't be armed \u2192 no arm events</li> <li>Some tracks might not have devices \u2192 no device events</li> </ul>"},{"location":"user-guide/udp-observers/#events-seem-delayed","title":"Events seem delayed","text":"<p>Expected: Debouncing adds delay</p> <ul> <li>Volume/params: 50ms delay</li> <li>Tempo: 100ms delay</li> <li>This is intentional to prevent flooding</li> </ul>"},{"location":"user-guide/udp-observers/#too-many-volume-events","title":"Too many volume events","text":"<p>Expected: Volume events during fader drag</p> <ul> <li>Each position change triggers event (after 50ms debounce)</li> <li>This is normal - use in UI with throttling if needed</li> </ul>"},{"location":"user-guide/udp-observers/#performance-characteristics","title":"Performance Characteristics","text":""},{"location":"user-guide/udp-observers/#event-rates-typical","title":"Event Rates (Typical)","text":"Activity Events/sec Notes Track rename &lt; 1 Rare operation Mute toggle 1-5 Occasional Volume drag 10-20 During fader movement Device tweak 10-20 During knob turning Tempo drag 5-10 During tempo change Normal editing 10-50 Mixed activities Project load 100-500 Initial burst"},{"location":"user-guide/udp-observers/#resource-usage","title":"Resource Usage","text":"Metric Value Test Conditions CPU (Remote Script) &lt; 2% 36 tracks, active editing Memory ~5MB 36 tracks, 50+ devices UDP packets/sec 10-50 Normal editing Latency (event \u2192 UDP) &lt; 5ms Measured Latency (UDP \u2192 listener) &lt; 5ms Localhost Total latency &lt; 10ms End-to-end"},{"location":"user-guide/udp-observers/#implementation-details","title":"Implementation Details","text":""},{"location":"user-guide/udp-observers/#files","title":"Files","text":"<ul> <li><code>src/remote_script/observers.py</code> - Observer classes (600+ lines)</li> <li><code>src/remote_script/LiveState.py</code> - Integration (initializes observers)</li> <li><code>src/remote_script/udp_sender.py</code> - UDP sender (180 lines)</li> <li><code>src/remote_script/osc.py</code> - OSC message encoder (270 lines)</li> </ul>"},{"location":"user-guide/udp-observers/#key-classes","title":"Key Classes","text":"<ul> <li><code>Debouncer</code> - Rate-limits high-frequency events</li> <li><code>TrackObserver</code> - Monitors one track</li> <li><code>DeviceObserver</code> - Monitors one device</li> <li><code>TransportObserver</code> - Monitors transport</li> <li><code>ObserverManager</code> - Manages all observers</li> </ul>"},{"location":"user-guide/udp-observers/#design-patterns","title":"Design Patterns","text":"<ul> <li>Observer pattern: Live API listeners trigger callbacks</li> <li>Debouncing: Time-based filtering prevents flooding</li> <li>Fire-and-forget: UDP requires no acknowledgment</li> <li>Singleton sender: One UDPSender instance for all observers</li> <li>Auto-refresh: Observers update when tracks/devices change</li> </ul>"},{"location":"user-guide/udp-observers/#example-usage","title":"Example Usage","text":""},{"location":"user-guide/udp-observers/#in-ableton-remote-script-automatic","title":"In Ableton Remote Script (Automatic)","text":"<pre><code># LiveState.py initialization\nself.udp_sender = UDPSender(host=\"127.0.0.1\", port=9002)\nself.udp_sender.start()\n\nself.udp_observer_manager = ObserverManager(\n    song=self.song(),\n    udp_sender=self.udp_sender\n)\nself.udp_observer_manager.start()\n</code></pre>"},{"location":"user-guide/udp-observers/#in-udp-listener-python","title":"In UDP Listener (Python)","text":"<pre><code>async def my_callback(event_path, args, seq_num, timestamp):\n    if event_path == \"/live/track/mute\":\n        track_idx, muted = args\n        print(f\"Track {track_idx} {'muted' if muted else 'unmuted'}\")\n    elif event_path == \"/live/track/volume\":\n        track_idx, volume = args\n        print(f\"Track {track_idx} volume: {volume:.2f}\")\n\nlistener = UDPListener(event_callback=my_callback)\nawait listener.start()\n</code></pre>"},{"location":"user-guide/udp-observers/#in-svelte-ui-future-phase-5e","title":"In Svelte UI (Future - Phase 5e)","text":"<pre><code>// WebSocket receives events from AST server\nwebsocket.onmessage = (msg) =&gt; {\n  const event = JSON.parse(msg.data);\n  if (event.type === \"track_mute\") {\n    updateTrackUI(event.track_idx, { muted: event.muted });\n  }\n};\n</code></pre>"},{"location":"user-guide/udp-observers/#next-steps","title":"Next Steps","text":"<p>Phase 5e: AST Server Integration (TODO)</p> <ul> <li>Forward UDP events to AST server</li> <li>Process events to update in-memory AST</li> <li>Compute incremental diffs</li> <li>Broadcast to WebSocket clients</li> </ul> <p>Phase 5i: Bi-directional Communication (Optional)</p> <ul> <li>Send commands from UI \u2192 Remote Script</li> <li>Control Ableton from web interface</li> </ul> <p>For more details:</p> <ul> <li>Protocol spec: <code>docs/OSC_PROTOCOL.md</code></li> <li>Testing guide: <code>docs/MANUAL_TESTING_UDP_OSC.md</code></li> <li>Progress report: <code>docs/UDP_OSC_PROGRESS.md</code></li> </ul>"}]}